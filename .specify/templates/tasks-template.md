# 任務清單：[PROJECT_OR_FEATURE_NAME]

**任務清單編號 (Tasks ID):** TASKS-[YYYY]-[NUMBER]

**關聯計畫 (Related Plan):** [PLAN-YYYY-NUMBER]

**關聯規格 (Related Specs):** [SPEC-YYYY-NUMBER, ...]

**負責人 (Owner):** [OWNER_NAME]

**建立日期 (Created):** [YYYY-MM-DD]

**最後更新 (Last Updated):** [YYYY-MM-DD]

---

## 憲法符合性提醒 (Constitution Compliance Reminder)

執行任務時，請持續檢查：
- ✅ 任務屬於正確的架構階段（階段一或階段二）
- ✅ 涉及 LLM 時，職責分離正確（IDE LLM vs 資料層 LLM）
- ✅ 實作基於已審核的規格（規格驅動）
- ✅ 資料品質任務優先處理（資料優先）
- ✅ 程式碼保持模組化與可讀性

---

## 任務狀態標籤說明 (Task Status Labels)

- **[ ]** 未開始 (Not Started)
- **[>]** 進行中 (In Progress)
- **[✓]** 已完成 (Completed)
- **[!]** 受阻 (Blocked)
- **[?]** 待確認 (Pending Clarification)
- **[-]** 已取消 (Cancelled)

---

## 階段一任務：本地資料管線 (Stage 1: Local Data Pipeline)

### 分類：資料處理核心 (Data Processing Core)

- [ ] **TASK-001:** [任務標題]
  - **描述：** [詳細描述任務內容]
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** [High/Medium/Low]
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [無/TASK-XXX]
  - **驗收標準：**
    - [標準 1]
    - [標準 2]
  - **技術細節：**
    - 語言/框架：Python [版本]
    - 主要檔案：[檔案路徑]
    - 測試檔案：[檔案路徑]
  - **備註：** [任何額外資訊]

- [ ] **TASK-002:** [任務標題]
  - **描述：** [詳細描述任務內容]
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** [High/Medium/Low]
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [TASK-001]
  - **驗收標準：**
    - [標準 1]
    - [標準 2]
  - **技術細節：**
    - 語言/框架：Python + SQLite
    - 主要檔案：[檔案路徑]
    - 測試檔案：[檔案路徑]
  - **備註：** [任何額外資訊]

### 分類：資料驗證與品質 (Data Validation and Quality)

- [ ] **TASK-010:** [任務標題]
  - **描述：** 實作資料輸入驗證邏輯
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** High
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [TASK-001, TASK-002]
  - **驗收標準：**
    - 所有輸入資料通過格式驗證
    - 異常資料被正確標記與記錄
    - 驗證邏輯有單元測試覆蓋
  - **技術細節：**
    - 驗證框架：[例如 Pydantic]
    - 主要檔案：[檔案路徑]
  - **備註：** 資料品質是最高優先級

- [ ] **TASK-011:** [任務標題]
  - **描述：** 實作資料輸出驗證邏輯
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** High
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [TASK-010]
  - **驗收標準：**
    - 輸出資料符合定義的 schema
    - 一致性檢查通過
  - **技術細節：**
    - 主要檔案：[檔案路徑]
  - **備註：** 必須驗證 tags.db 的完整性

### 分類：LLM 整合（資料層） (LLM Integration - Data Layer)

- [ ] **TASK-020:** [任務標題]
  - **描述：** 整合資料層 LLM API 用於標籤生成
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** [High/Medium/Low]
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [TASK-XXX]
  - **驗收標準：**
    - LLM API 呼叫成功
    - 所有推理結果被完整記錄（輸入、模型、參數、輸出、時間戳）
    - 失敗處理機制正常運作（重試、降級）
  - **技術細節：**
    - 使用的 LLM：[GPT-4 / Claude-3-Opus / 其他]
    - API 客戶端：[套件名稱]
    - 記錄檔案：[檔案路徑]
  - **備註：** 必須嚴格遵守 LLM 職責分離原則

### 分類：測試與文件 (Testing and Documentation)

- [ ] **TASK-030:** [任務標題]
  - **描述：** 撰寫階段一的單元測試
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** High
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [所有實作任務]
  - **驗收標準：**
    - 測試覆蓋率 ≥ 80%
    - 所有關鍵邏輯有測試案例
    - 測試通過 CI 驗證
  - **技術細節：**
    - 測試框架：[pytest / unittest]
    - 測試檔案：[檔案路徑]
  - **備註：** 必須涵蓋邊界條件與異常情況

- [ ] **TASK-031:** [任務標題]
  - **描述：** 撰寫階段一的技術文件
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** Medium
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [所有實作任務]
  - **驗收標準：**
    - 所有公開函式有 docstring
    - README 包含使用說明
    - 技術決策有記錄（ADR）
  - **技術細節：**
    - 文件格式：Markdown
    - 文件位置：[檔案路徑]
  - **備註：** 文件必須清晰易懂

---

## 階段二任務：雲端應用後端 (Stage 2: Cloud Application Backend)

### 分類：資料遷移 (Data Migration)

- [ ] **TASK-100:** [任務標題]
  - **描述：** 將 tags.db 遷移至 Supabase
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** High
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [階段一所有任務完成]
  - **驗收標準：**
    - 資料完整遷移，無遺失
    - 資料一致性驗證通過
    - 遷移腳本可重複執行
  - **技術細節：**
    - 目標資料庫：Supabase (PostgreSQL)
    - 遷移腳本：[檔案路徑]
  - **備註：** 必須先在測試環境驗證

### 分類：向量化與搜尋 (Vectorization and Search)

- [ ] **TASK-110:** [任務標題]
  - **描述：** 實作內容向量化功能
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** [High/Medium/Low]
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [TASK-100]
  - **驗收標準：**
    - 向量生成成功
    - 向量儲存至 Supabase
    - 語意搜尋功能正常
  - **技術細節：**
    - 向量模型：[OpenAI Embeddings / 其他]
    - Supabase 擴展：pgvector
  - **備註：** 考慮向量維度與效能平衡

### 分類：API 開發 (API Development)

- [ ] **TASK-120:** [任務標題]
  - **描述：** 開發 RESTful API endpoints
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** [High/Medium/Low]
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [TASK-100, TASK-110]
  - **驗收標準：**
    - API endpoints 正常運作
    - API 文件完整
    - API 測試通過
  - **技術細節：**
    - 框架：[Supabase Functions / FastAPI / 其他]
    - API 文件：[OpenAPI/Swagger]
  - **備註：** 考慮 API 認證與授權

### 分類：測試與部署 (Testing and Deployment)

- [ ] **TASK-130:** [任務標題]
  - **描述：** 整合測試與端到端測試
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** High
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [所有階段二實作任務]
  - **驗收標準：**
    - 整合測試涵蓋主要流程
    - E2E 測試模擬真實使用情境
    - 所有測試通過
  - **技術細節：**
    - 測試框架：[選擇適當的框架]
  - **備註：** 必須在正式環境前完成

- [ ] **TASK-131:** [任務標題]
  - **描述：** 部署至正式環境
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** High
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [TASK-130]
  - **驗收標準：**
    - 正式環境部署成功
    - 監控與告警設定完成
    - 備份機制運作正常
  - **技術細節：**
    - 部署平台：Supabase
  - **備註：** 需要準備回滾計畫

---

## 跨階段任務 (Cross-Stage Tasks)

### 分類：專案基礎設施 (Project Infrastructure)

- [ ] **TASK-200:** [任務標題]
  - **描述：** 設定 CI/CD 流程
  - **規格依據：** [SPEC-YYYY-NUMBER]
  - **優先級：** High
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [無]
  - **驗收標準：**
    - 自動測試在 PR 時執行
    - 程式碼風格檢查自動化
    - 部署流程自動化
  - **技術細節：**
    - CI/CD 平台：[GitHub Actions / 其他]
  - **備註：** 盡早建立以提升開發效率

### 分類：憲法合規性 (Constitution Compliance)

- [ ] **TASK-210:** [任務標題]
  - **描述：** 進行憲法合規性審查
  - **規格依據：** Constitution
  - **優先級：** High
  - **預估時間：** [時數/天數]
  - **負責人：** [姓名]
  - **相依任務：** [所有開發任務完成]
  - **驗收標準：**
    - 所有原則符合檢查通過
    - 不符合項目已記錄並處理
    - 審查報告已提交
  - **技術細節：**
    - 審查清單：參考憲法第二部分
  - **備註：** 這是最終發佈前的必要步驟

---

## 任務統計 (Task Statistics)

- **總任務數：** [數字]
- **階段一任務：** [數字]
- **階段二任務：** [數字]
- **跨階段任務：** [數字]
- **高優先級任務：** [數字]
- **已完成任務：** [數字] ([百分比]%)
- **進行中任務：** [數字]
- **受阻任務：** [數字]

---

## 受阻任務追蹤 (Blocked Tasks Tracking)

| 任務 ID | 任務標題 | 受阻原因 | 解決方案 | 負責人 | 預計解決日期 |
|---------|----------|----------|----------|--------|--------------|
| TASK-XXX | [標題] | [原因] | [方案] | [姓名] | YYYY-MM-DD |

---

## 變更記錄 (Change Log)

| 日期 | 變更內容 | 變更人 |
|------|----------|--------|
| YYYY-MM-DD | 初始任務清單建立 | [姓名] |

---

**任務清單結束 (End of Tasks)**

**注意事項：**
1. 請定期更新任務狀態
2. 遇到受阻情況立即記錄並尋求協助
3. 完成任務後更新驗收標準檢查清單
4. 所有任務完成後進行憲法合規性審查
