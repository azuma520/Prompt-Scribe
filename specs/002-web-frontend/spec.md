# è¦æ ¼æ–‡ä»¶ï¼šPrompt-Scribe Web Frontend

**è¦æ ¼ç·¨è™Ÿ (Spec ID):** SPEC-2025-003

**ç‰ˆæœ¬ (Version):** 1.0.0

**ç‹€æ…‹ (Status):** Draft

**ä½œè€… (Author):** AI Assistant

**å»ºç«‹æ—¥æœŸ (Created):** 2025-10-17

**æœ€å¾Œæ›´æ–° (Last Updated):** 2025-10-17

---

## æ†²æ³•ç¬¦åˆæ€§æª¢æŸ¥ (Constitution Compliance Check)

- [x] ç¬¦åˆã€Œå…©éšæ®µæ··åˆå¼æ¶æ§‹ã€åŸå‰‡ï¼ˆå±¬æ–¼éšæ®µäºŒçš„å‰ç«¯å±¤ï¼‰
- [x] ç¬¦åˆã€ŒLLM è·è²¬åˆ†é›¢ã€åŸå‰‡ï¼ˆå‰ç«¯ä¸ç›´æ¥èª¿ç”¨ LLMï¼Œé€šé APIï¼‰
- [x] ç¬¦åˆã€Œè¦æ ¼é©…å‹•é–‹ç™¼ã€åŸå‰‡ï¼ˆæœ¬è¦æ ¼å…ˆæ–¼å¯¦ä½œï¼‰
- [x] ç¬¦åˆã€Œæ¨¡çµ„åŒ–èˆ‡å¯è®€æ€§ã€åŸå‰‡ï¼ˆçµ„ä»¶åŒ–è¨­è¨ˆï¼‰
- [x] ç¬¦åˆã€Œä½¿ç”¨è€…é«”é©—å„ªå…ˆã€åŸå‰‡ï¼ˆç›´è§€ã€éŸ¿æ‡‰å¼ã€ç„¡éšœç¤™ï¼‰

---

## 1. æ¦‚è¿° (Overview)

### 1.1 ç›®æ¨™ (Objective)

ç‚º Prompt-Scribe API å»ºç«‹ç¾ä»£åŒ–ã€ç›´è§€çš„ Web å‰ç«¯ä»‹é¢ï¼Œè®“ä½¿ç”¨è€…èƒ½å¤ è¼•é¬†åœ°æœå°‹ã€ç€è¦½å’Œç®¡ç† AI åœ–åƒç”Ÿæˆçš„æ¨™ç±¤ï¼ˆtagsï¼‰ã€‚æä¾›æ™ºèƒ½æ¨è–¦ã€æ¨™ç±¤é©—è­‰å’Œçµ„åˆå»ºè­°ç­‰åŠŸèƒ½ï¼Œæå‡ AI å‰µä½œè€…çš„å·¥ä½œæ•ˆç‡ã€‚

**æ ¸å¿ƒåƒ¹å€¼ï¼š**
- é™ä½ä½¿ç”¨é–€æª»ï¼Œè®“éæŠ€è¡“ä½¿ç”¨è€…ä¹Ÿèƒ½è¼•é¬†ä½¿ç”¨
- æä¾›è¦–è¦ºåŒ–çš„æ¨™ç±¤ç€è¦½å’Œæœå°‹é«”é©—
- å³æ™‚åé¥‹å’Œæ™ºèƒ½å»ºè­°ï¼Œæå‡å‰µä½œæ•ˆç‡
- ç¾è§€ç¾ä»£çš„ä»‹é¢ï¼Œç¬¦åˆç•¶ä»£è¨­è¨ˆæ¨™æº–
- è·¨è£ç½®ç›¸å®¹ï¼Œæ”¯æ´æ¡Œé¢å’Œç§»å‹•ç«¯

### 1.2 ç¯„åœ (Scope)

**åŒ…å« (In Scope):**
- æ¨™ç±¤æœå°‹å’Œç€è¦½ä»‹é¢
- æ™ºèƒ½æ¨™ç±¤æ¨è–¦åŠŸèƒ½ï¼ˆåŸºæ–¼æè¿°ï¼‰
- æ¨™ç±¤çµ„åˆå»ºè­°å’Œé è¦½
- Prompt é©—è­‰å’Œå„ªåŒ–å»ºè­°
- æ¨™ç±¤æ”¶è—å’Œæ­·å²è¨˜éŒ„
- éŸ¿æ‡‰å¼è¨­è¨ˆï¼ˆæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿï¼‰
- æ·±è‰²/æ·ºè‰²ä¸»é¡Œåˆ‡æ›
- å¤šèªè¨€æ”¯æ´ï¼ˆç¹é«”ä¸­æ–‡ã€è‹±æ–‡ï¼‰
- ç„¡éšœç¤™è¨­è¨ˆï¼ˆWCAG 2.1 AA æ¨™æº–ï¼‰
- PWA æ”¯æ´ï¼ˆæ¼¸é€²å¼ Web æ‡‰ç”¨ï¼‰

**ä¸åŒ…å« (Out of Scope):**
- ä½¿ç”¨è€…å¸³è™Ÿç³»çµ±ï¼ˆåˆæœŸç‰ˆæœ¬ï¼‰
- ç¤¾ç¾¤åˆ†äº«åŠŸèƒ½
- æ¨™ç±¤ç·¨è¼¯å’Œç®¡ç†ï¼ˆåƒ…é™ APIï¼‰
- åœ–åƒç”ŸæˆåŠŸèƒ½
- ä»˜è²»è¨‚é–±ç³»çµ±
- å³æ™‚å”ä½œåŠŸèƒ½

### 1.3 æ¶æ§‹éšæ®µå®šä½ (Architecture Stage)

- [ ] éšæ®µä¸€ï¼šæœ¬åœ°è³‡æ–™ç®¡ç·š
- [x] éšæ®µäºŒï¼šé›²ç«¯æ‡‰ç”¨å‰ç«¯
- [ ] è·¨éšæ®µï¼ˆéœ€èªªæ˜å¦‚ä½•è§£è€¦ï¼‰

**èªªæ˜ï¼š** æ­¤åŠŸèƒ½å±¬æ–¼éšæ®µäºŒçš„å‰ç«¯å±¤ï¼Œå®Œå…¨ä¾è³´å·²éƒ¨ç½²çš„ Prompt-Scribe APIï¼ˆhttps://prompt-scribe-api.vercel.appï¼‰ã€‚

---

## 2. ä½¿ç”¨è€…å ´æ™¯ (User Scenarios)

### 2.1 ä¸»è¦å ´æ™¯ï¼šAI å‰µä½œè€…æœå°‹æ¨™ç±¤

**è§’è‰²ï¼š** AI åœ–åƒå‰µä½œè€…ï¼ˆAI Artistï¼‰

**å‰ç½®æ¢ä»¶ï¼š**
- ä½¿ç”¨è€…è¨ªå• Web æ‡‰ç”¨
- API æœå‹™æ­£å¸¸é‹è¡Œ

**æ“ä½œæµç¨‹ï¼š**
1. ä½¿ç”¨è€…åœ¨é¦–é çœ‹åˆ°æœå°‹æ¡†å’Œç²¾é¸æ¨™ç±¤
2. ä½¿ç”¨è€…è¼¸å…¥æè¿°ï¼š"cute girl in school uniform"
3. ç³»çµ±å³æ™‚é¡¯ç¤ºæ¨è–¦æ¨™ç±¤ï¼ˆ1girl, solo, school_uniform, cute...ï¼‰
4. ä½¿ç”¨è€…é»æ“Šæ¨™ç±¤æŸ¥çœ‹è©³ç´°è³‡è¨Šï¼ˆä½¿ç”¨æ¬¡æ•¸ã€åˆ†é¡ã€ç›¸é—œæ¨™ç±¤ï¼‰
5. ä½¿ç”¨è€…å°‡æ¨™ç±¤æ·»åŠ åˆ°å·¥ä½œå€
6. ç³»çµ±é¡¯ç¤ºå®Œæ•´çš„ Prompt é è¦½å’Œå„ªåŒ–å»ºè­°
7. ä½¿ç”¨è€…ä¸€éµè¤‡è£½ Prompt

**é æœŸçµæœï¼š**
- æœå°‹å›æ‡‰æ™‚é–“ < 1 ç§’
- æ¨è–¦æ¨™ç±¤æº–ç¢ºåº¦ > 85%
- ä½¿ç”¨è€…èƒ½å¿«é€Ÿæ‰¾åˆ°éœ€è¦çš„æ¨™ç±¤
- æµæš¢çš„ä½¿ç”¨é«”é©—ï¼Œç„¡å¡é “

**ç•°å¸¸è™•ç†ï¼š**
- API å¤±æ•—ï¼šé¡¯ç¤ºå‹å¥½çš„éŒ¯èª¤è¨Šæ¯ä¸¦æä¾›é‡è©¦é¸é …
- ç„¡çµæœï¼šæä¾›æœå°‹å»ºè­°å’Œç†±é–€æ¨™ç±¤
- ç¶²è·¯æ…¢ï¼šé¡¯ç¤ºè¼‰å…¥å‹•ç•«å’Œé€²åº¦æç¤º

### 2.2 æ¬¡è¦å ´æ™¯ï¼šä½¿ç”¨è€…æ¢ç´¢æ¨™ç±¤åˆ†é¡

**è§’è‰²ï¼š** æ–°æ‰‹ä½¿ç”¨è€…ï¼ˆBeginner Userï¼‰

**å‰ç½®æ¢ä»¶ï¼š**
- ä½¿ç”¨è€…é¦–æ¬¡è¨ªå•æ‡‰ç”¨
- ä¸ç†Ÿæ‚‰æ¨™ç±¤ç³»çµ±

**æ“ä½œæµç¨‹ï¼š**
1. ä½¿ç”¨è€…é€²å…¥ã€Œåˆ†é¡ç€è¦½ã€é é¢
2. ç³»çµ±é¡¯ç¤ºæ¨™ç±¤åˆ†é¡æ¨¹ç‹€çµæ§‹ï¼ˆè§’è‰²ã€æœè£ã€å ´æ™¯ç­‰ï¼‰
3. ä½¿ç”¨è€…é»æ“Šã€Œè§’è‰²ç›¸é—œã€åˆ†é¡
4. ç³»çµ±é¡¯ç¤ºè©²åˆ†é¡ä¸‹çš„ç†±é–€æ¨™ç±¤
5. ä½¿ç”¨è€…é»æ“Šã€Œ1girlã€æŸ¥çœ‹è©³æƒ…
6. ç³»çµ±é¡¯ç¤ºæ¨™ç±¤èªªæ˜ã€ä½¿ç”¨æ¬¡æ•¸ã€å¸¸è¦‹çµ„åˆ
7. ä½¿ç”¨è€…æ·»åŠ æ¨™ç±¤åˆ°å·¥ä½œå€

**é æœŸçµæœï¼š**
- æ¸…æ™°çš„åˆ†é¡çµæ§‹
- è¦–è¦ºåŒ–çš„æ¨™ç±¤åˆ†ä½ˆ
- è±å¯Œçš„æ¨™ç±¤è³‡è¨Š
- å¼•å°å¼çš„å­¸ç¿’é«”é©—

### 2.3 æ¬¡è¦å ´æ™¯ï¼šé©—è­‰å’Œå„ªåŒ– Prompt

**è§’è‰²ï¼š** ç¶“é©—è±å¯Œçš„å‰µä½œè€…ï¼ˆExpert Userï¼‰

**å‰ç½®æ¢ä»¶ï¼š**
- ä½¿ç”¨è€…å·²æœ‰ä¸€çµ„æ¨™ç±¤
- æƒ³è¦å„ªåŒ– Prompt å“è³ª

**æ“ä½œæµç¨‹ï¼š**
1. ä½¿ç”¨è€…åœ¨å·¥ä½œå€è¼¸å…¥æˆ–è²¼ä¸Šç¾æœ‰çš„ Prompt
2. ç³»çµ±è‡ªå‹•è§£ææ¨™ç±¤ä¸¦é©—è­‰
3. ç³»çµ±é¡¯ç¤ºå•é¡Œï¼šè¡çªæ¨™ç±¤ï¼ˆ1girl, 2girlsï¼‰ã€å†—é¤˜æ¨™ç±¤
4. ç³»çµ±æä¾›å„ªåŒ–å»ºè­°å’Œæ›¿ä»£æ–¹æ¡ˆ
5. ä½¿ç”¨è€…æ‡‰ç”¨å»ºè­°
6. ç³»çµ±é¡¯ç¤ºå„ªåŒ–å¾Œçš„è©•åˆ†ï¼ˆ75/100 â†’ 92/100ï¼‰
7. ä½¿ç”¨è€…æŸ¥çœ‹æ™ºèƒ½çµ„åˆå»ºè­°
8. ä½¿ç”¨è€…ä¸€éµæ‡‰ç”¨å®Œæ•´çµ„åˆ

**é æœŸçµæœï¼š**
- å³æ™‚é©—è­‰å’Œåé¥‹
- å…·é«”ä¸”å¯æ“ä½œçš„å»ºè­°
- æ˜é¡¯çš„å“è³ªæå‡
- å­¸ç¿’åƒ¹å€¼ï¼ˆäº†è§£æœ€ä½³å¯¦è¸ï¼‰

### 2.4 æ¬¡è¦å ´æ™¯ï¼šç§»å‹•ç«¯å¿«é€ŸæŸ¥è©¢

**è§’è‰²ï¼š** ç§»å‹•ä½¿ç”¨è€…ï¼ˆMobile Userï¼‰

**å‰ç½®æ¢ä»¶ï¼š**
- ä½¿ç”¨è€…åœ¨æ‰‹æ©Ÿä¸Šè¨ªå•æ‡‰ç”¨
- ç¶²è·¯é€£ç·šå¯èƒ½è¼ƒæ…¢

**æ“ä½œæµç¨‹ï¼š**
1. ä½¿ç”¨è€…åœ¨æ‰‹æ©Ÿä¸Šæ‰“é–‹æ‡‰ç”¨
2. ä»‹é¢è‡ªå‹•é©æ‡‰å°è¢å¹•
3. ä½¿ç”¨è€…ä½¿ç”¨èªéŸ³è¼¸å…¥æè¿°
4. ç³»çµ±å¿«é€Ÿè¿”å›æ¨è–¦æ¨™ç±¤
5. ä½¿ç”¨è€…æ»‘å‹•ç€è¦½æ¨™ç±¤å¡ç‰‡
6. ä½¿ç”¨è€…é•·æŒ‰è¤‡è£½æ¨™ç±¤
7. ç³»çµ±é¡¯ç¤ºè¤‡è£½æˆåŠŸæç¤º

**é æœŸçµæœï¼š**
- éŸ¿æ‡‰å¼è¨­è¨ˆå®Œç¾é©é…
- è§¸æ§å‹å¥½çš„æ“ä½œ
- é›¢ç·šæ”¯æ´ï¼ˆPWAï¼‰
- æµé‡å„ªåŒ–ï¼ˆåœ–ç‰‡å’Œè³‡æºï¼‰

---

## 3. éœ€æ±‚ (Requirements)

### 3.1 åŠŸèƒ½éœ€æ±‚ (Functional Requirements)

| ID | éœ€æ±‚æè¿° | å„ªå…ˆç´š | é©—æ”¶æ¨™æº– |
|----|----------|--------|----------|
| FR-01 | ç³»çµ±æ‡‰æä¾›æ¨™ç±¤æœå°‹åŠŸèƒ½ | High | æ”¯æ´é—œéµå­—ã€æ¨¡ç³Šæœå°‹ã€æœå°‹æ­·å² |
| FR-02 | ç³»çµ±æ‡‰é¡¯ç¤ºæ™ºèƒ½æ¨è–¦æ¨™ç±¤ | High | åŸºæ–¼æè¿°æ¨è–¦ï¼Œæº–ç¢ºåº¦ > 85% |
| FR-03 | ç³»çµ±æ‡‰æä¾›æ¨™ç±¤åˆ†é¡ç€è¦½ | Medium | æ¸…æ™°çš„åˆ†é¡çµæ§‹ï¼Œæ”¯æ´ç¯©é¸ |
| FR-04 | ç³»çµ±æ‡‰é¡¯ç¤ºæ¨™ç±¤è©³ç´°è³‡è¨Š | High | åç¨±ã€åˆ†é¡ã€ä½¿ç”¨æ¬¡æ•¸ã€ç›¸é—œæ¨™ç±¤ |
| FR-05 | ç³»çµ±æ‡‰æä¾›å·¥ä½œå€ç®¡ç† | High | æ·»åŠ ã€åˆªé™¤ã€æ’åºã€ä¿å­˜æ¨™ç±¤ |
| FR-06 | ç³»çµ±æ‡‰é©—è­‰ Prompt å“è³ª | High | æª¢æ¸¬è¡çªã€å†—é¤˜ã€è©•åˆ†æ©Ÿåˆ¶ |
| FR-07 | ç³»çµ±æ‡‰æä¾›æ™ºèƒ½çµ„åˆå»ºè­° | Medium | 10+ é å®šç¾©æ¨¡å¼ï¼Œè‡ªå‹•æ¨è–¦ |
| FR-08 | ç³»çµ±æ‡‰æ”¯æ´ä¸€éµè¤‡è£½ Prompt | High | è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼Œæ ¼å¼åŒ–é¸é … |
| FR-09 | ç³»çµ±æ‡‰è¨˜éŒ„æœå°‹æ­·å² | Medium | æœ¬åœ°å­˜å„²ï¼Œå¿«é€Ÿè¨ªå• |
| FR-10 | ç³»çµ±æ‡‰æ”¯æ´æ¨™ç±¤æ”¶è— | Low | æœ¬åœ°å­˜å„²ï¼Œåˆ†é¡ç®¡ç† |
| FR-11 | ç³»çµ±æ‡‰æ”¯æ´æ·±è‰²/æ·ºè‰²ä¸»é¡Œ | Medium | è‡ªå‹•æª¢æ¸¬ç³»çµ±åå¥½ï¼Œæ‰‹å‹•åˆ‡æ› |
| FR-12 | ç³»çµ±æ‡‰æ”¯æ´å¤šèªè¨€ | Medium | ç¹é«”ä¸­æ–‡ã€è‹±æ–‡ï¼Œå‹•æ…‹åˆ‡æ› |
| FR-13 | ç³»çµ±æ‡‰æä¾›éŸ¿æ‡‰å¼è¨­è¨ˆ | High | æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿå®Œç¾é©é… |
| FR-14 | ç³»çµ±æ‡‰æ”¯æ´ PWA | Low | å¯å®‰è£ã€é›¢ç·šåŸºæœ¬åŠŸèƒ½ |
| FR-15 | ç³»çµ±æ‡‰æä¾›éµç›¤å¿«æ·éµ | Low | æœå°‹ã€è¤‡è£½ã€å°èˆªå¿«æ·éµ |

### 3.2 éåŠŸèƒ½éœ€æ±‚ (Non-Functional Requirements)

| ID | é¡åˆ¥ | éœ€æ±‚æè¿° | æ¨™æº– |
|----|------|----------|------|
| NFR-01 | æ•ˆèƒ½ (Performance) | é é¢è¼‰å…¥æ™‚é–“æ‡‰å¿«é€Ÿ | é¦–æ¬¡è¼‰å…¥ < 3 ç§’ï¼Œå¾ŒçºŒ < 1 ç§’ |
| NFR-02 | æ•ˆèƒ½ (Performance) | æœå°‹å›æ‡‰æ™‚é–“æ‡‰å³æ™‚ | < 1 ç§’ |
| NFR-03 | æ•ˆèƒ½ (Performance) | ä»‹é¢æ“ä½œæ‡‰æµæš¢ | 60 FPSï¼Œç„¡å¡é “ |
| NFR-04 | å¯ç”¨æ€§ (Usability) | ä»‹é¢æ‡‰ç›´è§€æ˜“ç”¨ | æ–°ä½¿ç”¨è€… 5 åˆ†é˜å…§ä¸Šæ‰‹ |
| NFR-05 | å¯ç”¨æ€§ (Usability) | æ‡‰ç¬¦åˆç„¡éšœç¤™æ¨™æº– | WCAG 2.1 AA ç´šåˆ¥ |
| NFR-06 | ç›¸å®¹æ€§ (Compatibility) | æ”¯æ´ä¸»æµç€è¦½å™¨ | Chrome, Firefox, Safari, Edge æœ€æ–°å…©ç‰ˆ |
| NFR-07 | ç›¸å®¹æ€§ (Compatibility) | æ”¯æ´å¤šè£ç½® | æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿ |
| NFR-08 | å®‰å…¨æ€§ (Security) | ç”¨æˆ¶è³‡æ–™æ‡‰å®‰å…¨ | æœ¬åœ°å­˜å„²åŠ å¯†ï¼ŒHTTPS é€šè¨Š |
| NFR-09 | å¯ç¶­è­·æ€§ (Maintainability) | ä»£ç¢¼æ‡‰æ¨¡çµ„åŒ– | çµ„ä»¶åŒ–æ¶æ§‹ï¼Œæ¸…æ™°çš„ç›®éŒ„çµæ§‹ |
| NFR-10 | å¯æ“´å±•æ€§ (Scalability) | æ”¯æ´æœªä¾†åŠŸèƒ½æ“´å±• | æ’ä»¶å¼æ¶æ§‹ï¼Œæ˜“æ–¼æ·»åŠ æ–°åŠŸèƒ½ |
| NFR-11 | SEO | æœå°‹å¼•æ“å‹å¥½ | åŸºæœ¬çš„ SEO å„ªåŒ–ï¼ŒOpen Graph æ”¯æ´ |
| NFR-12 | åˆ†æ (Analytics) | æ”¯æ´ä½¿ç”¨æ•¸æ“šæ”¶é›† | éš±ç§å‹å¥½çš„åŒ¿åçµ±è¨ˆ |

---

## 4. æŠ€è¡“æ¶æ§‹ (Technical Architecture)

### 4.1 æŠ€è¡“æ£§é¸æ“‡

#### 4.1.1 æ ¸å¿ƒæ¡†æ¶

**é¸é …è©•ä¼°ï¼š**

| æ¡†æ¶ | å„ªå‹¢ | åŠ£å‹¢ | é©åˆåº¦ |
|------|------|------|--------|
| **Next.js 14** | SSR/SSGã€SEO å‹å¥½ã€Vercel éƒ¨ç½² | å­¸ç¿’æ›²ç·šã€æª”æ¡ˆå¤§å° | â­â­â­â­â­ |
| Vue 3 + Nuxt | æ˜“å­¸ã€è¼•é‡ã€ä¸­æ–‡ç¤¾ç¾¤ | ç”Ÿæ…‹ç³»çµ±è¼ƒå° | â­â­â­â­ |
| React + Vite | å¿«é€Ÿã€éˆæ´»ã€ç”Ÿæ…‹è±å¯Œ | éœ€è‡ªè¡Œé…ç½® SSR | â­â­â­ |
| Svelte + SvelteKit | è¼•é‡ã€é«˜æ•ˆã€æ–°ç© | ç¤¾ç¾¤è¼ƒå°ã€æ’ä»¶å°‘ | â­â­â­ |

**æ¨è–¦é¸æ“‡ï¼šNext.js 14 (App Router)**

**ç†ç”±ï¼š**
- âœ… èˆ‡ API åŒå¹³å°ï¼ˆVercelï¼‰ï¼Œéƒ¨ç½²æœ€ä½³åŒ–
- âœ… å…§å»º SSR/SSGï¼ŒSEO å‹å¥½
- âœ… React Server Componentsï¼Œæ•ˆèƒ½å„ªè¶Š
- âœ… åœ–ç‰‡å„ªåŒ–ã€å­—å‹å„ªåŒ–ç­‰å…§å»ºåŠŸèƒ½
- âœ… è±å¯Œçš„ç”Ÿæ…‹ç³»çµ±å’Œ UI åº«æ”¯æ´
- âœ… TypeScript åŸç”Ÿæ”¯æ´
- âœ… é›¶é…ç½®éƒ¨ç½²åˆ° Vercel

#### 4.1.2 UI æ¡†æ¶

**é¸é …è©•ä¼°ï¼š**

| æ¡†æ¶ | å„ªå‹¢ | åŠ£å‹¢ | é©åˆåº¦ |
|------|------|------|--------|
| **shadcn/ui + Tailwind** | ç¾ä»£ã€å¯è‡ªè¨‚ã€ç„¡ä¾è³´é–å®š | éœ€æ‰‹å‹•å®‰è£çµ„ä»¶ | â­â­â­â­â­ |
| MUI (Material-UI) | æˆç†Ÿã€å®Œæ•´ã€æ–‡æª”è±å¯Œ | æª”æ¡ˆå¤§ã€å®¢è£½åŒ–å›°é›£ | â­â­â­ |
| Ant Design | ä¼æ¥­ç´šã€ä¸­æ–‡æ–‡æª” | è¨­è¨ˆé¢¨æ ¼å›ºå®š | â­â­â­ |
| Chakra UI | ç„¡éšœç¤™ã€æ˜“ç”¨ | ç¤¾ç¾¤è¼ƒå° | â­â­â­â­ |

**æ¨è–¦é¸æ“‡ï¼šshadcn/ui + Tailwind CSS + shadcn MCP**

**ç†ç”±ï¼š**
- âœ… ç¾ä»£è¨­è¨ˆé¢¨æ ¼ï¼Œç¬¦åˆç•¶å‰è¶¨å‹¢
- âœ… å®Œå…¨å¯è‡ªè¨‚ï¼Œè¤‡è£½å³ç”¨
- âœ… Tailwind CSS é«˜æ•ˆé–‹ç™¼
- âœ… å„ªç§€çš„ç„¡éšœç¤™æ”¯æ´
- âœ… TypeScript æ”¯æ´
- âœ… æ·±è‰²æ¨¡å¼å…§å»º
- âœ… ç¤¾ç¾¤æ´»èºï¼ŒæŒçºŒæ›´æ–°
- âš¡ **shadcn MCP åŠ é€Ÿé–‹ç™¼**ï¼šå¯é€šé AI åŠ©æ‰‹å¿«é€Ÿå®‰è£å’Œç”Ÿæˆçµ„ä»¶ï¼Œç¯€çœ 30-50% é–‹ç™¼æ™‚é–“

#### 4.1.3 ç‹€æ…‹ç®¡ç†

**é¸é …è©•ä¼°ï¼š**

| æ–¹æ¡ˆ | å„ªå‹¢ | åŠ£å‹¢ | é©åˆåº¦ |
|------|------|------|--------|
| **Zustand** | è¼•é‡ã€ç°¡å–®ã€Hook å‹å¥½ | åŠŸèƒ½ç›¸å°ç°¡å–® | â­â­â­â­â­ |
| Redux Toolkit | æˆç†Ÿã€å¼·å¤§ã€devtools å®Œå–„ | è¤‡é›œã€æ¨£æ¿ä»£ç¢¼å¤š | â­â­â­ |
| Jotai | åŸå­åŒ–ã€éˆæ´» | ç›¸å°æ–°ã€æ–‡æª”è¼ƒå°‘ | â­â­â­â­ |
| React Context | å…§å»ºã€é›¶ä¾è³´ | æ•ˆèƒ½å•é¡Œã€ä¸é©åˆè¤‡é›œç‹€æ…‹ | â­â­ |

**æ¨è–¦é¸æ“‡ï¼šZustand + React Query**

**ç†ç”±ï¼š**
- âœ… Zustandï¼šè¼•é‡çš„å…¨å±€ç‹€æ…‹ç®¡ç†
- âœ… React Queryï¼šå°ˆæ¥­çš„ä¼ºæœå™¨ç‹€æ…‹ç®¡ç†
- âœ… ç°¡å–®æ˜“ç”¨ï¼Œå­¸ç¿’æ›²ç·šä½
- âœ… å„ªç§€çš„ TypeScript æ”¯æ´
- âœ… è‡ªå‹•è™•ç†å¿«å–å’Œé‡æ–°è¼‰å…¥

#### 4.1.4 API è«‹æ±‚

**æ¨è–¦é¸æ“‡ï¼šTanStack Query (React Query) v5**

**åŠŸèƒ½ï¼š**
- è‡ªå‹•å¿«å–å’Œé‡æ–°é©—è­‰
- æ¨‚è§€æ›´æ–°
- è«‹æ±‚å»é‡
- é›¢ç·šæ”¯æ´
- DevTools

### 4.2 å°ˆæ¡ˆçµæ§‹

```
prompt-scribe-web/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx               # æ ¹ä½ˆå±€
â”‚   â”œâ”€â”€ page.tsx                 # é¦–é 
â”‚   â”œâ”€â”€ search/                  # æœå°‹é é¢
â”‚   â”œâ”€â”€ browse/                  # åˆ†é¡ç€è¦½
â”‚   â”œâ”€â”€ workspace/               # å·¥ä½œå€
â”‚   â””â”€â”€ api/                     # API Routesï¼ˆå¦‚éœ€ä»£ç†ï¼‰
â”‚
â”œâ”€â”€ components/                   # React çµ„ä»¶
â”‚   â”œâ”€â”€ ui/                      # shadcn/ui åŸºç¤çµ„ä»¶
â”‚   â”œâ”€â”€ features/                # åŠŸèƒ½çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ tag-search/
â”‚   â”‚   â”œâ”€â”€ tag-card/
â”‚   â”‚   â”œâ”€â”€ workspace/
â”‚   â”‚   â”œâ”€â”€ recommendation/
â”‚   â”‚   â””â”€â”€ validation/
â”‚   â”œâ”€â”€ layouts/                 # ä½ˆå±€çµ„ä»¶
â”‚   â””â”€â”€ shared/                  # å…±ç”¨çµ„ä»¶
â”‚
â”œâ”€â”€ lib/                          # å·¥å…·å‡½æ•¸å’Œé…ç½®
â”‚   â”œâ”€â”€ api/                     # API å®¢æˆ¶ç«¯
â”‚   â”‚   â”œâ”€â”€ client.ts           # HTTP å®¢æˆ¶ç«¯
â”‚   â”‚   â””â”€â”€ endpoints.ts        # API ç«¯é»å®šç¾©
â”‚   â”œâ”€â”€ hooks/                   # è‡ªå®šç¾© Hooks
â”‚   â”œâ”€â”€ store/                   # Zustand stores
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•¸
â”‚   â””â”€â”€ constants/               # å¸¸æ•¸å®šç¾©
â”‚
â”œâ”€â”€ types/                        # TypeScript å‹åˆ¥å®šç¾©
â”‚   â”œâ”€â”€ api.ts                   # API å‹åˆ¥
â”‚   â”œâ”€â”€ tag.ts                   # æ¨™ç±¤å‹åˆ¥
â”‚   â””â”€â”€ workspace.ts             # å·¥ä½œå€å‹åˆ¥
â”‚
â”œâ”€â”€ styles/                       # æ¨£å¼æ–‡ä»¶
â”‚   â””â”€â”€ globals.css              # å…¨å±€æ¨£å¼ï¼ˆTailwindï¼‰
â”‚
â”œâ”€â”€ public/                       # éœæ…‹è³‡æº
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ manifest.json            # PWA manifest
â”‚
â”œâ”€â”€ locales/                      # åœ‹éš›åŒ–
â”‚   â”œâ”€â”€ zh-TW.json
â”‚   â””â”€â”€ en-US.json
â”‚
â”œâ”€â”€ tests/                        # æ¸¬è©¦æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ integration/
â”‚   â””â”€â”€ e2e/
â”‚
â”œâ”€â”€ .env.local.example            # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â”œâ”€â”€ next.config.js                # Next.js é…ç½®
â”œâ”€â”€ tailwind.config.ts            # Tailwind é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â””â”€â”€ package.json                  # å°ˆæ¡ˆä¾è³´
```

### 4.3 æ ¸å¿ƒçµ„ä»¶è¨­è¨ˆ

#### 4.3.1 TagSearchï¼ˆæ¨™ç±¤æœå°‹ï¼‰

**è²¬ä»»ï¼š**
- æ¥æ”¶ä½¿ç”¨è€…è¼¸å…¥
- èª¿ç”¨æ¨è–¦ API
- é¡¯ç¤ºå³æ™‚æœå°‹çµæœ
- ç®¡ç†æœå°‹æ­·å²

**Propsï¼š**
```typescript
interface TagSearchProps {
  onTagSelect: (tag: Tag) => void;
  placeholder?: string;
  autoFocus?: boolean;
}
```

#### 4.3.2 TagCardï¼ˆæ¨™ç±¤å¡ç‰‡ï¼‰

**è²¬ä»»ï¼š**
- é¡¯ç¤ºæ¨™ç±¤è³‡è¨Š
- æä¾›äº’å‹•æ“ä½œï¼ˆæ·»åŠ ã€è©³æƒ…ï¼‰
- è¦–è¦ºåŒ–ä½¿ç”¨é »ç‡
- é¡¯ç¤ºåˆ†é¡æ¨™ç±¤

**Propsï¼š**
```typescript
interface TagCardProps {
  tag: Tag;
  onAdd?: (tag: Tag) => void;
  onViewDetails?: (tag: Tag) => void;
  variant?: 'compact' | 'detailed';
}
```

#### 4.3.3 Workspaceï¼ˆå·¥ä½œå€ï¼‰

**è²¬ä»»ï¼š**
- ç®¡ç†é¸ä¸­çš„æ¨™ç±¤
- æ‹–æ‹½æ’åº
- Prompt é è¦½
- é©—è­‰å’Œå„ªåŒ–å»ºè­°
- ä¸€éµè¤‡è£½

**Stateï¼š**
```typescript
interface WorkspaceState {
  tags: Tag[];
  validation: ValidationResult;
  suggestions: TagCombination[];
  prompt: string;
}
```

#### 4.3.4 RecommendationPanelï¼ˆæ¨è–¦é¢æ¿ï¼‰

**è²¬ä»»ï¼š**
- é¡¯ç¤ºæ™ºèƒ½çµ„åˆå»ºè­°
- é è¦½å®Œæ•´ Prompt
- æ‡‰ç”¨å»ºè­°åˆ°å·¥ä½œå€

**Propsï¼š**
```typescript
interface RecommendationPanelProps {
  currentTags: Tag[];
  onApplySuggestion: (tags: Tag[]) => void;
}
```

### 4.4 API æ•´åˆ

#### 4.4.1 API å®¢æˆ¶ç«¯é…ç½®

```typescript
// lib/api/client.ts
import { QueryClient } from '@tanstack/react-query';

export const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000, // 5 åˆ†é˜
      cacheTime: 10 * 60 * 1000, // 10 åˆ†é˜
      retry: 3,
      refetchOnWindowFocus: false,
    },
  },
});

export const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 
  'https://prompt-scribe-api.vercel.app';
```

#### 4.4.2 API ç«¯é»å°è£

```typescript
// lib/api/endpoints.ts
import { API_BASE_URL } from './client';

export const apiEndpoints = {
  // æ¨™ç±¤æ¨è–¦
  recommendTags: (description: string) => 
    `${API_BASE_URL}/api/llm/recommend-tags`,
  
  // æ¨™ç±¤æœå°‹
  searchTags: (query: string) => 
    `${API_BASE_URL}/api/v1/search`,
  
  // é©—è­‰ Prompt
  validatePrompt: (tags: string[]) => 
    `${API_BASE_URL}/api/llm/validate-prompt`,
  
  // æ™ºèƒ½çµ„åˆå»ºè­°
  suggestCombinations: (tags: string[]) => 
    `${API_BASE_URL}/api/llm/suggest-combinations`,
  
  // æ¨™ç±¤è©³æƒ…
  getTag: (name: string) => 
    `${API_BASE_URL}/api/v1/tags?name=${encodeURIComponent(name)}`,
  
  // åˆ†é¡çµ±è¨ˆ
  getCategories: () => 
    `${API_BASE_URL}/api/v1/categories`,
};
```

#### 4.4.3 è‡ªå®šç¾© Hooks

```typescript
// lib/hooks/useTagRecommendation.ts
import { useQuery } from '@tanstack/react-query';
import { apiEndpoints } from '@/lib/api/endpoints';

export function useTagRecommendation(description: string) {
  return useQuery({
    queryKey: ['tagRecommendation', description],
    queryFn: async () => {
      const response = await fetch(apiEndpoints.recommendTags(description), {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ description }),
      });
      
      if (!response.ok) throw new Error('æ¨è–¦å¤±æ•—');
      return response.json();
    },
    enabled: description.length > 2, // è‡³å°‘ 3 å€‹å­—å…ƒæ‰æŸ¥è©¢
    staleTime: 5 * 60 * 1000,
  });
}
```

### 4.5 è³‡æ–™æµå‘

```
ä½¿ç”¨è€…è¼¸å…¥
    â†“
çµ„ä»¶è§¸ç™¼äº‹ä»¶
    â†“
è‡ªå®šç¾© Hook (useTagRecommendation)
    â†“
React Query ç®¡ç†è«‹æ±‚
    â†“
API å®¢æˆ¶ç«¯ç™¼é€ HTTP è«‹æ±‚
    â†“
Prompt-Scribe API (Vercel)
    â†“
å›æ‡‰è³‡æ–™
    â†“
React Query å¿«å–
    â†“
çµ„ä»¶æ›´æ–°é¡¯ç¤º
    â†“
ä½¿ç”¨è€…äº’å‹•
```

---

## 5. ä»‹é¢è¨­è¨ˆ (UI/UX Design)

### 5.1 è¨­è¨ˆåŸå‰‡

**1. ç°¡æ½”å„ªå…ˆ (Simplicity First)**
- æ¸…æ™°çš„è¦–è¦ºå±¤æ¬¡
- æ¸›å°‘èªçŸ¥è² æ“”
- çªå‡ºæ ¸å¿ƒåŠŸèƒ½

**2. éŸ¿æ‡‰å³æ™‚ (Instant Feedback)**
- å³æ™‚æœå°‹çµæœ
- è¼‰å…¥ç‹€æ…‹æç¤º
- æ“ä½œåé¥‹å‹•ç•«

**3. å¼•å°å¼é«”é©— (Guided Experience)**
- æ–°æ‰‹æ•™å­¸æç¤º
- ç©ºç‹€æ…‹å¼•å°
- æ™ºèƒ½å»ºè­°

**4. ç„¡éšœç¤™è¨­è¨ˆ (Accessibility)**
- éµç›¤å°èˆª
- è¢å¹•é–±è®€å™¨æ”¯æ´
- é©ç•¶çš„å°æ¯”åº¦

**5. è¦–è¦ºç¾å­¸ (Visual Aesthetics)**
- ç¾ä»£è¨­è¨ˆé¢¨æ ¼
- ä¸€è‡´çš„è‰²å½©ç³»çµ±
- æµæš¢çš„å‹•ç•«æ•ˆæœ

### 5.2 é é¢çµæ§‹

#### 5.2.1 é¦–é  (Home Page)

**ä½ˆå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo    æœå°‹æ¡†            ä¸»é¡Œ èªè¨€ â”‚  â† Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚    ğŸ¨ Prompt-Scribe                â”‚
â”‚    AI æ¨™ç±¤æ¨è–¦ç³»çµ±                   â”‚
â”‚                                     â”‚
â”‚    [       æœå°‹æ¨™ç±¤æˆ–æè¿°å ´æ™¯      ] â”‚  â† ä¸»æœå°‹æ¡†
â”‚                                     â”‚
â”‚    å¿«é€Ÿé–‹å§‹ï¼š                        â”‚
â”‚    [é—œéµå­—æœå°‹] [åˆ†é¡ç€è¦½] [å·¥ä½œå€]  â”‚
â”‚                                     â”‚
â”‚    ğŸ”¥ ç†±é–€æ¨™ç±¤                      â”‚
â”‚    [1girl] [solo] [long_hair] ...  â”‚
â”‚                                     â”‚
â”‚    ğŸ“Š åˆ†é¡ç€è¦½                      â”‚
â”‚    [è§’è‰²] [æœè£] [å ´æ™¯] [é¢¨æ ¼] ... â”‚
â”‚                                     â”‚
â”‚    ğŸ“ æœ€è¿‘æœå°‹                      â”‚
â”‚    1. cute girl in school uniform  â”‚
â”‚    2. cyberpunk city at night      â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.2 æœå°‹çµæœé  (Search Results)

**ä½ˆå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† è¿”å›   [æœå°‹æ¡†]         ä¸»é¡Œ èªè¨€ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚               â”‚
â”‚  ğŸ¯ æ¨è–¦æ¨™ç±¤ (8)    â”‚   ğŸ“‹ å·¥ä½œå€  â”‚
â”‚                     â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”‚   å·²é¸ (3)   â”‚
â”‚  â”‚1girl â”‚ â”‚ solo â”‚ â”‚   [1girl]    â”‚
â”‚  â”‚95%   â”‚ â”‚ 90%  â”‚ â”‚   [solo]     â”‚
â”‚  â”‚15k   â”‚ â”‚ 12k  â”‚ â”‚   [cute]     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚               â”‚
â”‚                     â”‚   é è¦½ï¼š      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”‚   1girl,...  â”‚
â”‚  â”‚schoolâ”‚ â”‚ cute â”‚ â”‚               â”‚
â”‚  â”‚88%   â”‚ â”‚ 85%  â”‚ â”‚   [è¤‡è£½]     â”‚
â”‚  â”‚8k    â”‚ â”‚ 10k  â”‚ â”‚   [é©—è­‰]     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚   [å„ªåŒ–]     â”‚
â”‚                     â”‚               â”‚
â”‚  [è¼‰å…¥æ›´å¤š...]      â”‚               â”‚
â”‚                     â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.3 æ¨™ç±¤è©³æƒ…å½ˆçª— (Tag Details Modal)

**ä½ˆå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  school_uniform            [âœ•] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ğŸ“Š åŸºæœ¬è³‡è¨Š                    â”‚
â”‚  åˆ†é¡ï¼šè§’è‰²ç›¸é—œ > æœè£          â”‚
â”‚  ä½¿ç”¨æ¬¡æ•¸ï¼š8,234                â”‚
â”‚  ä¿¡å¿ƒåº¦ï¼š88%                    â”‚
â”‚                                 â”‚
â”‚  ğŸ“ æè¿°                        â”‚
â”‚  å­¸ç”Ÿåˆ¶æœç›¸é—œæ¨™ç±¤ï¼Œå¸¸ç”¨æ–¼æ ¡åœ’å ´æ™¯ â”‚
â”‚                                 â”‚
â”‚  ğŸ”— å¸¸è¦‹çµ„åˆ (é»æ“Šæ·»åŠ )         â”‚
â”‚  [1girl] [solo] [student]      â”‚
â”‚  [skirt] [necktie] [bag]       â”‚
â”‚                                 â”‚
â”‚  ğŸ’¡ ç›¸ä¼¼æ¨™ç±¤                    â”‚
â”‚  [uniform] [seifuku] [sailor]  â”‚
â”‚                                 â”‚
â”‚  [æ·»åŠ åˆ°å·¥ä½œå€] [æ”¶è—]          â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.4 å·¥ä½œå€é é¢ (Workspace)

**ä½ˆå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo  å·¥ä½œå€              ä¸»é¡Œ èªè¨€ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸ“‹ æˆ‘çš„ Prompt                     â”‚
â”‚                                     â”‚
â”‚  å·²é¸æ¨™ç±¤ (5) [æ¸…ç©º]                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [1girl âœ•] [solo âœ•] [long_hair]â”‚â”‚  â† å¯æ‹–æ‹½
â”‚  â”‚ [school_uniform âœ•] [cute âœ•]   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  âœ¨ Prompt é è¦½                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ 1girl, solo, long_hair,        â”‚â”‚
â”‚  â”‚ school_uniform, cute           â”‚â”‚
â”‚  â”‚                         [è¤‡è£½] â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  âœ… å“è³ªæª¢æŸ¥                        â”‚
â”‚  è©•åˆ†ï¼š92/100 â­â­â­â­â­            â”‚
â”‚  âœ“ ç„¡è¡çªæ¨™ç±¤                      â”‚
â”‚  âœ“ ç„¡å†—é¤˜æ¨™ç±¤                      â”‚
â”‚  âš  å»ºè­°æ·»åŠ èƒŒæ™¯æ¨™ç±¤                â”‚
â”‚                                     â”‚
â”‚  ğŸ’¡ æ™ºèƒ½å»ºè­°                        â”‚
â”‚  æ·»åŠ é€™äº›æ¨™ç±¤å¯èƒ½æ›´å¥½ï¼š             â”‚
â”‚  [+smile] [+looking_at_viewer]    â”‚
â”‚  [+indoor] [+classroom]           â”‚
â”‚                                     â”‚
â”‚  ğŸ¨ å®Œæ•´çµ„åˆ                        â”‚
â”‚  [æŸ¥çœ‹ 10+ é å®šç¾©çµ„åˆ]             â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 è‰²å½©ç³»çµ±

#### 5.3.1 æ·ºè‰²ä¸»é¡Œ (Light Theme)

```css
:root {
  /* ä¸»è‰²èª¿ - ç´«è‰²ç³»ï¼ˆå‰µæ„ã€å„ªé›…ï¼‰ */
  --primary: 262 83% 58%;        /* #8B5CF6 */
  --primary-hover: 262 83% 50%;  /* #7C3AED */
  
  /* æ¬¡è¦è‰² - è—è‰²ç³»ï¼ˆä¿¡ä»»ã€å°ˆæ¥­ï¼‰ */
  --secondary: 217 91% 60%;      /* #3B82F6 */
  
  /* å¼·èª¿è‰² - ç²‰è‰²ç³»ï¼ˆè¦ªå’Œã€æ´»åŠ›ï¼‰ */
  --accent: 330 81% 60%;         /* #EC4899 */
  
  /* æˆåŠŸ */
  --success: 142 71% 45%;        /* #10B981 */
  
  /* è­¦å‘Š */
  --warning: 38 92% 50%;         /* #F59E0B */
  
  /* éŒ¯èª¤ */
  --error: 0 84% 60%;            /* #EF4444 */
  
  /* èƒŒæ™¯ */
  --background: 0 0% 100%;       /* #FFFFFF */
  --surface: 0 0% 98%;           /* #FAFAFA */
  
  /* æ–‡å­— */
  --text-primary: 0 0% 9%;       /* #171717 */
  --text-secondary: 0 0% 45%;    /* #737373 */
  
  /* é‚Šæ¡† */
  --border: 0 0% 90%;            /* #E5E5E5 */
}
```

#### 5.3.2 æ·±è‰²ä¸»é¡Œ (Dark Theme)

```css
.dark {
  /* ä¸»è‰²èª¿ */
  --primary: 262 83% 65%;        /* #A78BFA */
  --primary-hover: 262 83% 58%;  /* #8B5CF6 */
  
  /* èƒŒæ™¯ */
  --background: 0 0% 9%;         /* #171717 */
  --surface: 0 0% 12%;           /* #1F1F1F */
  
  /* æ–‡å­— */
  --text-primary: 0 0% 98%;      /* #FAFAFA */
  --text-secondary: 0 0% 65%;    /* #A3A3A3 */
  
  /* é‚Šæ¡† */
  --border: 0 0% 20%;            /* #333333 */
}
```

### 5.4 äº’å‹•å‹•ç•«

#### 5.4.1 æ¨™ç±¤å¡ç‰‡æ‡¸åœ

```css
/* æŸ”å’Œçš„æå‡æ•ˆæœ */
.tag-card {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.tag-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px -6px rgba(0, 0, 0, 0.15);
}
```

#### 5.4.2 æœå°‹æ¡†èšç„¦

```css
/* å¹³æ»‘çš„é‚Šæ¡†å‹•ç•« */
.search-input {
  transition: box-shadow 0.3s ease;
}

.search-input:focus {
  box-shadow: 0 0 0 3px var(--primary-alpha-20);
}
```

#### 5.4.3 æ¨™ç±¤æ·»åŠ å‹•ç•«

```javascript
// Framer Motion å‹•ç•«é…ç½®
const tagAnimation = {
  initial: { scale: 0, opacity: 0 },
  animate: { scale: 1, opacity: 1 },
  exit: { scale: 0, opacity: 0 },
  transition: { type: 'spring', stiffness: 300, damping: 25 }
};
```

### 5.5 éŸ¿æ‡‰å¼æ–·é»

```javascript
// Tailwind æ–·é»é…ç½®
const breakpoints = {
  'sm': '640px',   // æ‰‹æ©Ÿæ©«å‘
  'md': '768px',   // å¹³æ¿
  'lg': '1024px',  // å°æ¡Œé¢
  'xl': '1280px',  // æ¡Œé¢
  '2xl': '1536px'  // å¤§æ¡Œé¢
};
```

---

## 6. æˆåŠŸæ¨™æº– (Success Criteria)

### 6.1 åŠŸèƒ½å®Œæ•´æ€§

| æ¨™æº– | æ¸¬é‡æ–¹å¼ | ç›®æ¨™å€¼ |
|------|----------|--------|
| æ ¸å¿ƒåŠŸèƒ½è¦†è“‹ | æª¢æŸ¥åŠŸèƒ½å¯¦ä½œæ¸…å–® | 100% (15/15 åŠŸèƒ½) |
| API æ•´åˆå®Œæ•´åº¦ | æ¸¬è©¦æ‰€æœ‰ API ç«¯é» | 100% (8/8 ç«¯é») |
| çµ„ä»¶è¦†è“‹ç‡ | è¨ˆç®—å·²å¯¦ä½œçµ„ä»¶ | â‰¥ 90% |
| é é¢å®Œæ•´åº¦ | æª¢æŸ¥æ‰€æœ‰å®šç¾©é é¢ | 100% (5/5 é é¢) |

### 6.2 ä½¿ç”¨è€…é«”é©—

| æ¨™æº– | æ¸¬é‡æ–¹å¼ | ç›®æ¨™å€¼ |
|------|----------|--------|
| é é¢è¼‰å…¥æ™‚é–“ | Lighthouse Performance | â‰¥ 90 åˆ† |
| é¦–æ¬¡å…§å®¹ç¹ªè£½ (FCP) | Core Web Vitals | < 1.8 ç§’ |
| æœ€å¤§å…§å®¹ç¹ªè£½ (LCP) | Core Web Vitals | < 2.5 ç§’ |
| ç´¯ç©ä½ˆå±€åç§» (CLS) | Core Web Vitals | < 0.1 |
| äº’å‹•åˆ°ä¸‹ä¸€æ¬¡ç¹ªè£½ (INP) | Core Web Vitals | < 200 æ¯«ç§’ |
| ä½¿ç”¨è€…æ»¿æ„åº¦ | å•å·èª¿æŸ¥ | â‰¥ 4.0/5.0 |
| æ–°æ‰‹ä¸Šæ‰‹æ™‚é–“ | ä½¿ç”¨è€…æ¸¬è©¦ | < 5 åˆ†é˜ |

### 6.3 æŠ€è¡“å“è³ª

| æ¨™æº– | æ¸¬é‡æ–¹å¼ | ç›®æ¨™å€¼ |
|------|----------|--------|
| TypeScript è¦†è“‹ç‡ | tsconfig åš´æ ¼æ¨¡å¼ | 100% |
| æ¸¬è©¦è¦†è“‹ç‡ | Jest + Testing Library | â‰¥ 80% |
| ç„¡éšœç¤™è©•åˆ† | Lighthouse Accessibility | â‰¥ 95 åˆ† |
| SEO è©•åˆ† | Lighthouse SEO | â‰¥ 90 åˆ† |
| æœ€ä½³å¯¦è¸è©•åˆ† | Lighthouse Best Practices | â‰¥ 90 åˆ† |
| Bundle å¤§å° | ç”Ÿç”¢æ‰“åŒ…å¤§å° | < 300 KB (gzipped) |
| ç€è¦½å™¨ç›¸å®¹æ€§ | BrowserStack æ¸¬è©¦ | 100% ä¸»æµç€è¦½å™¨ |

### 6.4 ç‡Ÿé‹å°±ç·’

| æ¨™æº– | æ¸¬é‡æ–¹å¼ | ç›®æ¨™å€¼ |
|------|----------|--------|
| æ–‡ä»¶å®Œæ•´æ€§ | æª¢æŸ¥æ–‡ä»¶æ¸…å–® | 100% |
| éƒ¨ç½²è‡ªå‹•åŒ– | CI/CD ç®¡ç·š | å®Œå…¨è‡ªå‹•åŒ– |
| éŒ¯èª¤ç›£æ§ | Sentry æ•´åˆ | å·²é…ç½® |
| åˆ†æè¿½è¹¤ | Google Analytics æˆ–æ›¿ä»£æ–¹æ¡ˆ | å·²é…ç½® |
| ç’°å¢ƒè®Šæ•¸ç®¡ç† | .env æ–‡ä»¶å’Œæ–‡æª” | å®Œæ•´èªªæ˜ |

---

## 7. é¢¨éšªèˆ‡å°ç­– (Risks and Mitigation)

### 7.1 æŠ€è¡“é¢¨éšª

| é¢¨éšª | å¯èƒ½æ€§ | å½±éŸ¿ç¨‹åº¦ | å°ç­– |
|------|--------|----------|------|
| API é€Ÿç‡é™åˆ¶æˆ–å¤±æ•— | Medium | High | å¯¦ä½œè«‹æ±‚å¿«å–ã€éŒ¯èª¤é‡è©¦ã€é™ç´šæ–¹æ¡ˆï¼ˆé›¢ç·šæ¨¡å¼ï¼‰ |
| ç€è¦½å™¨ç›¸å®¹æ€§å•é¡Œ | Low | Medium | ä½¿ç”¨ Polyfillã€æ¼¸é€²å¢å¼·ã€å»£æ³›æ¸¬è©¦ |
| æ•ˆèƒ½ç“¶é ¸ï¼ˆå¤§é‡æ¨™ç±¤ï¼‰ | Medium | Medium | è™›æ“¬åŒ–åˆ—è¡¨ã€æ‡¶åŠ è¼‰ã€åˆ†é  |
| Bundle é«”ç©éå¤§ | Medium | Low | ä»£ç¢¼åˆ†å‰²ã€å‹•æ…‹å°å…¥ã€æ¨¹æ–å„ªåŒ– |
| SEO ä¸ä½³ï¼ˆCSR å•é¡Œï¼‰ | Low | Medium | ä½¿ç”¨ Next.js SSR/SSGã€Meta æ¨™ç±¤å„ªåŒ– |

### 7.2 ä½¿ç”¨è€…é«”é©—é¢¨éšª

| é¢¨éšª | å¯èƒ½æ€§ | å½±éŸ¿ç¨‹åº¦ | å°ç­– |
|------|--------|----------|------|
| å­¸ç¿’æ›²ç·šéé™¡ | Medium | High | æ–°æ‰‹æ•™å­¸ã€å·¥å…·æç¤ºã€æ¸…æ™°çš„ UI å¼•å° |
| ç§»å‹•ç«¯é«”é©—ä¸ä½³ | Medium | High | éŸ¿æ‡‰å¼è¨­è¨ˆã€è§¸æ§å„ªåŒ–ã€PWA æ”¯æ´ |
| æœå°‹çµæœä¸æº–ç¢º | Low | High | æä¾›ç¯©é¸é¸é …ã€é¡¯ç¤ºä¿¡å¿ƒåº¦ã€åé¥‹æ©Ÿåˆ¶ |
| è¼‰å…¥æ™‚é–“éé•· | Medium | High | å„ªåŒ–è³‡æºã€é è¼‰å…¥ã€éª¨æ¶å± |

### 7.3 å°ˆæ¡ˆé¢¨éšª

| é¢¨éšª | å¯èƒ½æ€§ | å½±éŸ¿ç¨‹åº¦ | å°ç­– |
|------|--------|----------|------|
| é–‹ç™¼æ™‚é–“è¶…å‡ºé æœŸ | Medium | Medium | MVP å„ªå…ˆã€è¿­ä»£é–‹ç™¼ã€åŠŸèƒ½åˆ†ç´š |
| UI è¨­è¨ˆä¸ä¸€è‡´ | Medium | Low | è¨­è¨ˆç³»çµ±ã€çµ„ä»¶åº«ã€è¨­è¨ˆè©•å¯© |
| ç¬¬ä¸‰æ–¹ä¾è³´å•é¡Œ | Low | Medium | é–å®šç‰ˆæœ¬ã€å®šæœŸæ›´æ–°ã€æœ‰æ›¿ä»£æ–¹æ¡ˆ |

---

## 8. å¯¦ä½œè¨ˆç•« (Implementation Plan)

### 8.1 éšæ®µåŠƒåˆ†

| éšæ®µ | ä»»å‹™ | é ä¼°æ™‚é–“ | å„ªå…ˆç´š | äº¤ä»˜ç‰© |
|------|------|----------|--------|--------|
| **Phase 0** | å°ˆæ¡ˆè¨­ç½®èˆ‡ç’°å¢ƒé…ç½® | 4 å°æ™‚ | High | åˆå§‹å°ˆæ¡ˆã€é–‹ç™¼ç’°å¢ƒ |
| **Phase 1** | æ ¸å¿ƒæœå°‹åŠŸèƒ½ | 16 å°æ™‚ | High | æœå°‹ä»‹é¢ã€API æ•´åˆ |
| **Phase 2** | æ¨™ç±¤å±•ç¤ºèˆ‡å·¥ä½œå€ | 20 å°æ™‚ | High | æ¨™ç±¤å¡ç‰‡ã€å·¥ä½œå€ç®¡ç† |
| **Phase 3** | æ™ºèƒ½æ¨è–¦èˆ‡é©—è­‰ | 16 å°æ™‚ | High | æ¨è–¦ç³»çµ±ã€é©—è­‰åŠŸèƒ½ |
| **Phase 4** | åˆ†é¡ç€è¦½èˆ‡è©³æƒ… | 12 å°æ™‚ | Medium | åˆ†é¡é é¢ã€è©³æƒ…å½ˆçª— |
| **Phase 5** | ä¸»é¡Œèˆ‡åœ‹éš›åŒ– | 8 å°æ™‚ | Medium | æ·±è‰²æ¨¡å¼ã€å¤šèªè¨€ |
| **Phase 6** | éŸ¿æ‡‰å¼èˆ‡å„ªåŒ– | 12 å°æ™‚ | High | ç§»å‹•ç«¯ã€æ•ˆèƒ½å„ªåŒ– |
| **Phase 7** | PWA èˆ‡é€²éšåŠŸèƒ½ | 8 å°æ™‚ | Low | PWAã€å¿«æ·éµã€æ”¶è— |
| **Phase 8** | æ¸¬è©¦èˆ‡æ–‡æª” | 12 å°æ™‚ | High | æ¸¬è©¦å¥—ä»¶ã€ä½¿ç”¨æ–‡æª” |
| **Phase 9** | éƒ¨ç½²èˆ‡ç›£æ§ | 4 å°æ™‚ | High | CI/CDã€åˆ†æã€ç›£æ§ |

**ç¸½é ä¼°æ™‚é–“ï¼š** 112 å°æ™‚ï¼ˆç´„ 14 å·¥ä½œå¤©ï¼Œ2-3 é€±ï¼‰

### 8.2 è©³ç´°ä»»å‹™æ¸…å–®

#### Phase 0: å°ˆæ¡ˆè¨­ç½® (4h)

- [ ] **T001**: åˆå§‹åŒ– Next.js 14 å°ˆæ¡ˆ (App Router)
- [ ] **T002**: å®‰è£æ ¸å¿ƒä¾è³´ï¼ˆTailwind, shadcn/ui, React Query, Zustandï¼‰
- [ ] **T003**: é…ç½® TypeScript åš´æ ¼æ¨¡å¼
- [ ] **T004**: è¨­ç½® ESLint å’Œ Prettier
- [ ] **T005**: é…ç½®ç’°å¢ƒè®Šæ•¸å’Œ API é€£ç·š
- [ ] **T006**: å»ºç«‹å°ˆæ¡ˆç›®éŒ„çµæ§‹
- [ ] **T007**: è¨­ç½® Git hooks (Husky + lint-staged)

#### Phase 1: æ ¸å¿ƒæœå°‹åŠŸèƒ½ (16h)

- [ ] **T101**: å»ºç«‹é¦–é ä½ˆå±€å’Œ Header
- [ ] **T102**: å¯¦ä½œæœå°‹æ¡†çµ„ä»¶ï¼ˆTagSearchInputï¼‰
- [ ] **T103**: æ•´åˆæ¨™ç±¤æ¨è–¦ API (useTagRecommendation)
- [ ] **T104**: å¯¦ä½œå³æ™‚æœå°‹çµæœé¡¯ç¤º
- [ ] **T105**: å¯¦ä½œæœå°‹æ­·å²ç®¡ç†ï¼ˆLocal Storageï¼‰
- [ ] **T106**: å¯¦ä½œç†±é–€æ¨™ç±¤å±•ç¤º
- [ ] **T107**: å¯¦ä½œæœå°‹çµæœé é¢ä½ˆå±€
- [ ] **T108**: æ·»åŠ è¼‰å…¥ç‹€æ…‹å’ŒéŒ¯èª¤è™•ç†

#### Phase 2: æ¨™ç±¤å±•ç¤ºèˆ‡å·¥ä½œå€ (20h)

- [ ] **T201**: è¨­è¨ˆä¸¦å¯¦ä½œ TagCard çµ„ä»¶ï¼ˆå¤šç¨®è®Šé«”ï¼‰
- [ ] **T202**: å¯¦ä½œå·¥ä½œå€çµ„ä»¶ï¼ˆWorkspaceï¼‰
- [ ] **T203**: å¯¦ä½œæ¨™ç±¤æ·»åŠ /ç§»é™¤åŠŸèƒ½
- [ ] **T204**: å¯¦ä½œæ¨™ç±¤æ‹–æ‹½æ’åºï¼ˆDnD Kitï¼‰
- [ ] **T205**: å¯¦ä½œ Prompt é è¦½å’Œè¤‡è£½åŠŸèƒ½
- [ ] **T206**: å¯¦ä½œå·¥ä½œå€ç‹€æ…‹ç®¡ç†ï¼ˆZustandï¼‰
- [ ] **T207**: å¯¦ä½œå·¥ä½œå€æœ¬åœ°æŒä¹…åŒ–
- [ ] **T208**: å¯¦ä½œæ‰¹é‡æ“ä½œï¼ˆæ¸…ç©ºã€è¤‡è£½å…¨éƒ¨ï¼‰

#### Phase 3: æ™ºèƒ½æ¨è–¦èˆ‡é©—è­‰ (16h)

- [ ] **T301**: æ•´åˆ Prompt é©—è­‰ API
- [ ] **T302**: å¯¦ä½œé©—è­‰çµæœé¡¯ç¤ºçµ„ä»¶
- [ ] **T303**: å¯¦ä½œè©•åˆ†ç³»çµ±å’Œè¦–è¦ºåŒ–
- [ ] **T304**: æ•´åˆæ™ºèƒ½çµ„åˆå»ºè­° API
- [ ] **T305**: å¯¦ä½œçµ„åˆå»ºè­°é¢æ¿
- [ ] **T306**: å¯¦ä½œä¸€éµæ‡‰ç”¨å»ºè­°åŠŸèƒ½
- [ ] **T307**: å¯¦ä½œå„ªåŒ–å»ºè­°æç¤º
- [ ] **T308**: æ·»åŠ äº’å‹•å¼æ•™å­¸æç¤º

#### Phase 4: åˆ†é¡ç€è¦½èˆ‡è©³æƒ… (12h)

- [ ] **T401**: å»ºç«‹åˆ†é¡ç€è¦½é é¢
- [ ] **T402**: æ•´åˆåˆ†é¡çµ±è¨ˆ API
- [ ] **T403**: å¯¦ä½œåˆ†é¡æ¨¹ç‹€å°èˆª
- [ ] **T404**: å¯¦ä½œæ¨™ç±¤è©³æƒ…å½ˆçª—ï¼ˆModalï¼‰
- [ ] **T405**: å¯¦ä½œæ¨™ç±¤è©³ç´°è³‡è¨Šé¡¯ç¤º
- [ ] **T406**: å¯¦ä½œç›¸é—œæ¨™ç±¤å’Œå¸¸è¦‹çµ„åˆ
- [ ] **T407**: å¯¦ä½œæ¨™ç±¤æ”¶è—åŠŸèƒ½

#### Phase 5: ä¸»é¡Œèˆ‡åœ‹éš›åŒ– (8h)

- [ ] **T501**: å¯¦ä½œæ·±è‰²/æ·ºè‰²ä¸»é¡Œåˆ‡æ›
- [ ] **T502**: é…ç½®ä¸»é¡Œè‰²å½©ç³»çµ±
- [ ] **T503**: è¨­ç½® next-intl åœ‹éš›åŒ–
- [ ] **T504**: ç¿»è­¯æ‰€æœ‰ä»‹é¢æ–‡å­—ï¼ˆç¹ä¸­ã€è‹±æ–‡ï¼‰
- [ ] **T505**: å¯¦ä½œèªè¨€åˆ‡æ›åŠŸèƒ½
- [ ] **T506**: å¯¦ä½œä¸»é¡Œå’Œèªè¨€åå¥½æŒä¹…åŒ–

#### Phase 6: éŸ¿æ‡‰å¼èˆ‡å„ªåŒ– (12h)

- [ ] **T601**: å¯¦ä½œéŸ¿æ‡‰å¼ä½ˆå±€ï¼ˆæ‰€æœ‰é é¢ï¼‰
- [ ] **T602**: å„ªåŒ–ç§»å‹•ç«¯è§¸æ§é«”é©—
- [ ] **T603**: å¯¦ä½œè™›æ“¬åŒ–åˆ—è¡¨ï¼ˆå¤§é‡æ¨™ç±¤ï¼‰
- [ ] **T604**: å„ªåŒ–åœ–ç‰‡å’Œå­—å‹è¼‰å…¥
- [ ] **T605**: å¯¦ä½œä»£ç¢¼åˆ†å‰²å’Œæ‡¶åŠ è¼‰
- [ ] **T606**: å„ªåŒ– Bundle å¤§å°
- [ ] **T607**: å¯¦ä½œéª¨æ¶å±å’Œè¼‰å…¥å‹•ç•«
- [ ] **T608**: æ•ˆèƒ½æ¸¬è©¦å’Œå„ªåŒ–ï¼ˆLighthouseï¼‰

#### Phase 7: PWA èˆ‡é€²éšåŠŸèƒ½ (8h)

- [ ] **T701**: é…ç½® PWA manifest
- [ ] **T702**: å¯¦ä½œ Service Workerï¼ˆé›¢ç·šæ”¯æ´ï¼‰
- [ ] **T703**: å¯¦ä½œéµç›¤å¿«æ·éµ
- [ ] **T704**: å¯¦ä½œå¿«é€Ÿæ“ä½œï¼ˆå¿«æ·é¸å–®ï¼‰
- [ ] **T705**: å¯¦ä½œæ”¶è—ç®¡ç†é é¢
- [ ] **T706**: å¯¦ä½œåŒ¯å‡º/åŒ¯å…¥åŠŸèƒ½
- [ ] **T707**: å¯¦ä½œè¨­å®šé é¢

#### Phase 8: æ¸¬è©¦èˆ‡æ–‡æª” (12h)

- [ ] **T801**: è¨­ç½® Jest å’Œ Testing Library
- [ ] **T802**: ç·¨å¯«çµ„ä»¶å–®å…ƒæ¸¬è©¦ï¼ˆæ ¸å¿ƒçµ„ä»¶ï¼‰
- [ ] **T803**: ç·¨å¯« API Hook æ¸¬è©¦
- [ ] **T804**: ç·¨å¯«æ•´åˆæ¸¬è©¦ï¼ˆä¸»è¦æµç¨‹ï¼‰
- [ ] **T805**: è¨­ç½® E2E æ¸¬è©¦ï¼ˆPlaywrightï¼‰
- [ ] **T806**: ç„¡éšœç¤™æ¸¬è©¦ï¼ˆaxe-coreï¼‰
- [ ] **T807**: ç·¨å¯«ä½¿ç”¨è€…æ–‡æª”
- [ ] **T808**: ç·¨å¯«é–‹ç™¼è€…æ–‡æª”
- [ ] **T809**: ç·¨å¯«éƒ¨ç½²æŒ‡å—

#### Phase 9: éƒ¨ç½²èˆ‡ç›£æ§ (4h)

- [ ] **T901**: è¨­ç½® Vercel éƒ¨ç½²
- [ ] **T902**: é…ç½®ç’°å¢ƒè®Šæ•¸
- [ ] **T903**: è¨­ç½® CI/CDï¼ˆGitHub Actionsï¼‰
- [ ] **T904**: æ•´åˆ Sentry éŒ¯èª¤ç›£æ§
- [ ] **T905**: æ•´åˆ Google Analytics æˆ– Plausible
- [ ] **T906**: é…ç½® SEOï¼ˆMeta æ¨™ç±¤ã€sitemapï¼‰
- [ ] **T907**: åŸ·è¡Œæœ€çµ‚æ¸¬è©¦å’Œæª¢æŸ¥
- [ ] **T908**: æ­£å¼ç™¼å¸ƒ

### 8.3 é‡Œç¨‹ç¢‘ (Milestones)

**M1: MVP å¯ç”¨ï¼ˆWeek 1ï¼‰**
- åŸºæœ¬æœå°‹åŠŸèƒ½
- æ¨™ç±¤å±•ç¤ºå’Œå·¥ä½œå€
- API æ•´åˆå®Œæˆ
- æ¡Œé¢ç«¯å¯ç”¨

**M2: åŠŸèƒ½å®Œæ•´ï¼ˆWeek 2ï¼‰**
- æ™ºèƒ½æ¨è–¦å’Œé©—è­‰
- åˆ†é¡ç€è¦½
- ä¸»é¡Œå’Œåœ‹éš›åŒ–
- éŸ¿æ‡‰å¼è¨­è¨ˆ

**M3: ç”Ÿç”¢å°±ç·’ï¼ˆWeek 3ï¼‰**
- PWA æ”¯æ´
- æ¸¬è©¦å®Œæˆï¼ˆâ‰¥80% è¦†è“‹ç‡ï¼‰
- æ•ˆèƒ½å„ªåŒ–ï¼ˆLighthouse â‰¥90ï¼‰
- æ–‡æª”å®Œæ•´

**M4: æ­£å¼ç™¼å¸ƒï¼ˆWeek 3 æœ«ï¼‰**
- éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
- ç›£æ§å’Œåˆ†æé…ç½®
- ä½¿ç”¨è€…æ–‡æª”ç™¼å¸ƒ
- å®£å‚³å’Œæ¨å»£

---

## 9. æ¸¬è©¦ç­–ç•¥ (Testing Strategy)

### 9.1 æ¸¬è©¦é‡‘å­—å¡”

```
    /\
   /E2E\      å°‘é‡ E2E æ¸¬è©¦ï¼ˆé—œéµæµç¨‹ï¼‰
  /------\
 /Integration\  é©é‡æ•´åˆæ¸¬è©¦ï¼ˆçµ„ä»¶äº¤äº’ï¼‰
/----------\
/Unit Tests\  å¤§é‡å–®å…ƒæ¸¬è©¦ï¼ˆçµ„ä»¶ã€å‡½æ•¸ï¼‰
/------------\
```

### 9.2 å–®å…ƒæ¸¬è©¦

**å·¥å…·ï¼š** Jest + Testing Library

**è¦†è“‹ç›®æ¨™ï¼š** â‰¥ 80%

**æ¸¬è©¦å…§å®¹ï¼š**
- çµ„ä»¶æ¸²æŸ“
- ä½¿ç”¨è€…äº¤äº’ï¼ˆé»æ“Šã€è¼¸å…¥ï¼‰
- æ¢ä»¶æ¸²æŸ“
- Props å‚³é
- è‡ªå®šç¾© Hooks
- å·¥å…·å‡½æ•¸

**ç¯„ä¾‹æ¸¬è©¦æ¡ˆä¾‹ï¼š**

```typescript
// components/features/tag-search/__tests__/TagSearchInput.test.tsx
describe('TagSearchInput', () => {
  it('æ‡‰è©²æ­£ç¢ºæ¸²æŸ“æœå°‹æ¡†', () => {
    render(<TagSearchInput />);
    expect(screen.getByPlaceholderText(/æœå°‹æ¨™ç±¤/i)).toBeInTheDocument();
  });

  it('æ‡‰è©²åœ¨è¼¸å…¥æ™‚è§¸ç™¼æœå°‹', async () => {
    const onSearch = jest.fn();
    render(<TagSearchInput onSearch={onSearch} />);
    
    const input = screen.getByRole('textbox');
    await userEvent.type(input, 'cute girl');
    
    await waitFor(() => {
      expect(onSearch).toHaveBeenCalledWith('cute girl');
    });
  });

  it('æ‡‰è©²é¡¯ç¤ºæœå°‹æ­·å²', async () => {
    render(<TagSearchInput />);
    
    const input = screen.getByRole('textbox');
    await userEvent.click(input);
    
    expect(screen.getByText(/æœ€è¿‘æœå°‹/i)).toBeInTheDocument();
  });
});
```

### 9.3 æ•´åˆæ¸¬è©¦

**å·¥å…·ï¼š** Testing Library

**æ¸¬è©¦å…§å®¹ï¼š**
- å¤šçµ„ä»¶å”ä½œ
- API è«‹æ±‚æµç¨‹
- ç‹€æ…‹ç®¡ç†
- è·¯ç”±å°èˆª

**ç¯„ä¾‹æ¸¬è©¦æ¡ˆä¾‹ï¼š**

```typescript
// tests/integration/search-flow.test.tsx
describe('æœå°‹æµç¨‹', () => {
  it('æ‡‰è©²å®Œæˆå®Œæ•´çš„æœå°‹å’Œæ·»åŠ æµç¨‹', async () => {
    render(<App />);
    
    // 1. è¼¸å…¥æœå°‹
    const input = screen.getByPlaceholderText(/æœå°‹æ¨™ç±¤/i);
    await userEvent.type(input, 'cute girl');
    
    // 2. ç­‰å¾…çµæœ
    await waitFor(() => {
      expect(screen.getByText('1girl')).toBeInTheDocument();
    });
    
    // 3. æ·»åŠ æ¨™ç±¤
    const addButton = screen.getByRole('button', { name: /æ·»åŠ  1girl/i });
    await userEvent.click(addButton);
    
    // 4. é©—è­‰å·¥ä½œå€
    expect(screen.getByText(/å·²é¸ \(1\)/i)).toBeInTheDocument();
    
    // 5. é©—è­‰ Prompt é è¦½
    expect(screen.getByText(/1girl/i)).toBeInTheDocument();
  });
});
```

### 9.4 E2E æ¸¬è©¦

**å·¥å…·ï¼š** Playwright

**è¦†è“‹ç›®æ¨™ï¼š** 5-10 å€‹é—œéµæµç¨‹

**æ¸¬è©¦å ´æ™¯ï¼š**
- é¦–æ¬¡è¨ªå•å’Œæœå°‹
- å®Œæ•´çš„æ¨™ç±¤é¸æ“‡æµç¨‹
- Prompt å»ºç«‹å’Œè¤‡è£½
- ä¸»é¡Œåˆ‡æ›
- èªè¨€åˆ‡æ›
- éŸ¿æ‡‰å¼æ¸¬è©¦ï¼ˆç§»å‹•ç«¯ï¼‰

**ç¯„ä¾‹æ¸¬è©¦æ¡ˆä¾‹ï¼š**

```typescript
// tests/e2e/search-and-copy.spec.ts
import { test, expect } from '@playwright/test';

test('å®Œæ•´çš„æœå°‹å’Œè¤‡è£½æµç¨‹', async ({ page }) => {
  // 1. è¨ªå•é¦–é 
  await page.goto('http://localhost:3000');
  
  // 2. è¼¸å…¥æœå°‹
  await page.fill('[data-testid="search-input"]', 'cute girl');
  
  // 3. ç­‰å¾…çµæœ
  await page.waitForSelector('[data-testid="tag-card"]');
  
  // 4. é»æ“Šç¬¬ä¸€å€‹æ¨™ç±¤
  await page.click('[data-testid="tag-card"]:first-child');
  
  // 5. é©—è­‰å·¥ä½œå€
  await expect(page.locator('[data-testid="workspace-tag"]')).toHaveCount(1);
  
  // 6. é»æ“Šè¤‡è£½æŒ‰éˆ•
  await page.click('[data-testid="copy-prompt-button"]');
  
  // 7. é©—è­‰è¤‡è£½æˆåŠŸæç¤º
  await expect(page.locator('[data-testid="toast"]')).toContainText('å·²è¤‡è£½');
});
```

### 9.5 ç„¡éšœç¤™æ¸¬è©¦

**å·¥å…·ï¼š** axe-core + jest-axe

**æ¨™æº–ï¼š** WCAG 2.1 AA

**æ¸¬è©¦å…§å®¹ï¼š**
- éµç›¤å°èˆª
- è¢å¹•é–±è®€å™¨æ”¯æ´
- é¡è‰²å°æ¯”åº¦
- ARIA æ¨™ç±¤

**ç¯„ä¾‹æ¸¬è©¦æ¡ˆä¾‹ï¼š**

```typescript
// tests/a11y/search-page.test.tsx
import { axe, toHaveNoViolations } from 'jest-axe';

expect.extend(toHaveNoViolations);

describe('æœå°‹é é¢ç„¡éšœç¤™æ¸¬è©¦', () => {
  it('æ‡‰è©²æ²’æœ‰ç„¡éšœç¤™é•è¦', async () => {
    const { container } = render(<SearchPage />);
    const results = await axe(container);
    expect(results).toHaveNoViolations();
  });

  it('æ‡‰è©²æ”¯æ´éµç›¤å°èˆª', async () => {
    render(<SearchPage />);
    
    const input = screen.getByRole('textbox');
    input.focus();
    
    // Tab åˆ°ç¬¬ä¸€å€‹çµæœ
    await userEvent.tab();
    
    const firstCard = screen.getAllByRole('button')[0];
    expect(firstCard).toHaveFocus();
    
    // Enter é¸æ“‡
    await userEvent.keyboard('{Enter}');
    
    expect(screen.getByText(/å·²æ·»åŠ /i)).toBeInTheDocument();
  });
});
```

### 9.6 æ•ˆèƒ½æ¸¬è©¦

**å·¥å…·ï¼š** Lighthouse CI + Custom Scripts

**æ¸¬è©¦å…§å®¹ï¼š**
- Core Web Vitals
- Bundle å¤§å°
- è«‹æ±‚æ•¸é‡å’Œå¤§å°
- æ¸²æŸ“æ•ˆèƒ½

**è‡ªå‹•åŒ–æ¸¬è©¦ï¼š**

```yaml
# .github/workflows/performance.yml
name: Performance Tests

on: [pull_request]

jobs:
  lighthouse:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: treosh/lighthouse-ci-action@v10
        with:
          urls: |
            http://localhost:3000
            http://localhost:3000/search
          temporaryPublicStorage: true
          runs: 3
```

---

## 10. éƒ¨ç½²ç­–ç•¥ (Deployment Strategy)

### 10.1 éƒ¨ç½²å¹³å°

**æ¨è–¦ï¼šVercelï¼ˆèˆ‡ API åŒå¹³å°ï¼‰**

**ç†ç”±ï¼š**
- âœ… é›¶é…ç½®éƒ¨ç½²
- âœ… è‡ªå‹• HTTPS
- âœ… å…¨çƒ CDN
- âœ… é è¦½éƒ¨ç½²ï¼ˆPRï¼‰
- âœ… é‚Šç·£å‡½æ•¸æ”¯æ´
- âœ… åˆ†æå’Œç›£æ§
- âœ… èˆ‡ Next.js å®Œç¾æ•´åˆ

### 10.2 ç’°å¢ƒé…ç½®

#### 10.2.1 é–‹ç™¼ç’°å¢ƒ (.env.local)

```bash
# API é…ç½®
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_API_TIMEOUT=30000

# åŠŸèƒ½é–‹é—œ
NEXT_PUBLIC_ENABLE_PWA=false
NEXT_PUBLIC_ENABLE_ANALYTICS=false

# é™¤éŒ¯
NEXT_PUBLIC_DEBUG=true
```

#### 10.2.2 ç”Ÿç”¢ç’°å¢ƒ (Vercel ç’°å¢ƒè®Šæ•¸)

```bash
# API é…ç½®
NEXT_PUBLIC_API_URL=https://prompt-scribe-api.vercel.app
NEXT_PUBLIC_API_TIMEOUT=30000

# åŠŸèƒ½é–‹é—œ
NEXT_PUBLIC_ENABLE_PWA=true
NEXT_PUBLIC_ENABLE_ANALYTICS=true

# åˆ†æ
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
NEXT_PUBLIC_SENTRY_DSN=https://...

# é™¤éŒ¯
NEXT_PUBLIC_DEBUG=false
```

### 10.3 éƒ¨ç½²æµç¨‹

#### 10.3.1 æ‰‹å‹•éƒ¨ç½²

```bash
# 1. å®‰è£ Vercel CLI
npm i -g vercel

# 2. ç™»å…¥
vercel login

# 3. éƒ¨ç½²åˆ°é è¦½ç’°å¢ƒ
vercel

# 4. éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
vercel --prod
```

#### 10.3.2 è‡ªå‹•éƒ¨ç½²ï¼ˆCI/CDï¼‰

```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          
      - name: Install dependencies
        run: npm ci
        
      - name: Run tests
        run: npm test
        
      - name: Build
        run: npm run build
        
      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'
```

### 10.4 åŸŸåé…ç½®

**å»ºè­°åŸŸåçµæ§‹ï¼š**

```
ç”Ÿç”¢ç’°å¢ƒï¼š  prompt-scribe.vercel.app æˆ– è‡ªå®šç¾©åŸŸå
é è¦½ç’°å¢ƒï¼š  <branch>-prompt-scribe.vercel.app
æœ¬åœ°ç’°å¢ƒï¼š  localhost:3000
```

### 10.5 CDN å’Œå¿«å–ç­–ç•¥

```javascript
// next.config.js
module.exports = {
  async headers() {
    return [
      {
        source: '/api/:path*',
        headers: [
          { key: 'Cache-Control', value: 'no-store' },
        ],
      },
      {
        source: '/_next/static/:path*',
        headers: [
          { key: 'Cache-Control', value: 'public, max-age=31536000, immutable' },
        ],
      },
      {
        source: '/images/:path*',
        headers: [
          { key: 'Cache-Control', value: 'public, max-age=86400' },
        ],
      },
    ];
  },
};
```

---

## 11. ç›£æ§èˆ‡åˆ†æ (Monitoring & Analytics)

### 11.1 éŒ¯èª¤ç›£æ§

**å·¥å…·ï¼šSentry**

**é…ç½®ï¼š**

```typescript
// lib/sentry.ts
import * as Sentry from '@sentry/nextjs';

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  environment: process.env.NODE_ENV,
  tracesSampleRate: 0.1,
  
  beforeSend(event, hint) {
    // éæ¿¾æ•æ„Ÿè³‡è¨Š
    if (event.request) {
      delete event.request.cookies;
      delete event.request.headers;
    }
    return event;
  },
});
```

**ç›£æ§å…§å®¹ï¼š**
- JavaScript éŒ¯èª¤
- API è«‹æ±‚å¤±æ•—
- æ•ˆèƒ½å•é¡Œ
- ä½¿ç”¨è€…åé¥‹

### 11.2 ä½¿ç”¨è€…åˆ†æ

**å·¥å…·ï¼šPlausibleï¼ˆéš±ç§å‹å¥½ï¼‰æˆ– Google Analytics**

**è¿½è¹¤äº‹ä»¶ï¼š**

```typescript
// lib/analytics.ts
export const trackEvent = (
  name: string,
  properties?: Record<string, any>
) => {
  if (typeof window.plausible !== 'undefined') {
    window.plausible(name, { props: properties });
  }
};

// ä½¿ç”¨ç¯„ä¾‹
trackEvent('tag_search', {
  query: 'cute girl',
  results_count: 8,
});

trackEvent('tag_add', {
  tag_name: '1girl',
  confidence: 0.95,
});

trackEvent('prompt_copy', {
  tags_count: 5,
  quality_score: 92,
});
```

**é—œéµæŒ‡æ¨™ï¼š**
- é é¢ç€è¦½é‡
- ä½¿ç”¨è€…æœƒè©±æ™‚é•·
- æœå°‹æ¬¡æ•¸
- æ¨™ç±¤æ·»åŠ æ¬¡æ•¸
- Prompt è¤‡è£½æ¬¡æ•¸
- è½‰æ›ç‡ï¼ˆè¨ªå• â†’ ä½¿ç”¨ï¼‰

### 11.3 æ•ˆèƒ½ç›£æ§

**å·¥å…·ï¼šVercel Analytics + Web Vitals**

```typescript
// app/layout.tsx
import { Analytics } from '@vercel/analytics/react';
import { SpeedInsights } from '@vercel/speed-insights/next';

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        {children}
        <Analytics />
        <SpeedInsights />
      </body>
    </html>
  );
}
```

**ç›£æ§æŒ‡æ¨™ï¼š**
- Core Web Vitals (LCP, FID, CLS)
- é é¢è¼‰å…¥æ™‚é–“
- API è«‹æ±‚æ™‚é–“
- è³‡æºå¤§å°

---

## 12. å®‰å…¨æ€§ (Security)

### 12.1 å‰ç«¯å®‰å…¨æœ€ä½³å¯¦è¸

**1. XSS é˜²è­·**
- ä½¿ç”¨ React çš„è‡ªå‹•è½‰ç¾©
- é¿å…ä½¿ç”¨ `dangerouslySetInnerHTML`
- é©—è­‰å’Œæ¸…ç†ä½¿ç”¨è€…è¼¸å…¥

**2. CSRF é˜²è­·**
- API ä½¿ç”¨ CORS è¨­å®š
- ä¸åœ¨å‰ç«¯å­˜å„²æ•æ„Ÿè³‡æ–™

**3. ä¾è³´å®‰å…¨**
- å®šæœŸæ›´æ–°ä¾è³´
- ä½¿ç”¨ `npm audit` æª¢æŸ¥æ¼æ´
- é–å®šä¾è³´ç‰ˆæœ¬

**4. å…§å®¹å®‰å…¨ç­–ç•¥ (CSP)**

```typescript
// next.config.js
const securityHeaders = [
  {
    key: 'Content-Security-Policy',
    value: `
      default-src 'self';
      script-src 'self' 'unsafe-eval' 'unsafe-inline' *.vercel-analytics.com;
      style-src 'self' 'unsafe-inline';
      img-src 'self' data: https:;
      font-src 'self' data:;
      connect-src 'self' ${process.env.NEXT_PUBLIC_API_URL};
    `.replace(/\s{2,}/g, ' ').trim()
  },
  {
    key: 'X-Frame-Options',
    value: 'DENY'
  },
  {
    key: 'X-Content-Type-Options',
    value: 'nosniff'
  },
  {
    key: 'Referrer-Policy',
    value: 'origin-when-cross-origin'
  },
];
```

### 12.2 è³‡æ–™éš±ç§

**1. æœ¬åœ°å­˜å„²åŠ å¯†**

```typescript
// lib/storage.ts
import { AES, enc } from 'crypto-js';

const SECRET_KEY = 'your-secret-key';

export const secureStorage = {
  set(key: string, value: any) {
    const encrypted = AES.encrypt(
      JSON.stringify(value),
      SECRET_KEY
    ).toString();
    localStorage.setItem(key, encrypted);
  },
  
  get(key: string) {
    const encrypted = localStorage.getItem(key);
    if (!encrypted) return null;
    
    const decrypted = AES.decrypt(encrypted, SECRET_KEY).toString(enc.Utf8);
    return JSON.parse(decrypted);
  },
};
```

**2. éš±ç§æ”¿ç­–**
- æ˜ç¢ºå‘ŠçŸ¥è³‡æ–™æ”¶é›†
- æä¾›é€€å‡ºé¸é …
- åŒ¿ååŒ–åˆ†æè³‡æ–™

---

## 13. ç„¡éšœç¤™è¨­è¨ˆ (Accessibility)

### 13.1 WCAG 2.1 AA æ¨™æº–éµå¾ª

**é—œéµè¦æ±‚ï¼š**

1. **å¯æ„ŸçŸ¥ (Perceivable)**
   - æ–‡å­—æ›¿ä»£ï¼šæ‰€æœ‰åœ–ç‰‡æä¾› alt æ–‡å­—
   - æ™‚åºåª’é«”ï¼šå½±ç‰‡æä¾›å­—å¹•
   - å¯èª¿æ•´ï¼šæ–‡å­—å¯ç¸®æ”¾è‡³ 200%
   - å¯è¾¨è­˜ï¼šå°æ¯”åº¦è‡³å°‘ 4.5:1

2. **å¯æ“ä½œ (Operable)**
   - éµç›¤å­˜å–ï¼šæ‰€æœ‰åŠŸèƒ½å¯ç”¨éµç›¤æ“ä½œ
   - å……è¶³æ™‚é–“ï¼šç„¡è‡ªå‹•è¶…æ™‚
   - ç™²ç™‡ç—‡ï¼šé¿å…é–ƒçˆå…§å®¹
   - å°èˆªï¼šæä¾›è·³éé€£çµã€æ¸…æ™°æ¨™é¡Œ

3. **å¯ç†è§£ (Understandable)**
   - å¯è®€ï¼šèªè¨€å±¬æ€§è¨­å®šæ­£ç¢º
   - å¯é æ¸¬ï¼šä¸€è‡´çš„å°èˆªå’ŒåŠŸèƒ½
   - è¼¸å…¥å”åŠ©ï¼šéŒ¯èª¤è¨Šæ¯æ¸…æ™°ã€æä¾›å»ºè­°

4. **å¼·å¥ (Robust)**
   - ç›¸å®¹æ€§ï¼šä½¿ç”¨èªæ„åŒ– HTML
   - åç¨±ã€è§’è‰²ã€å€¼ï¼šæ­£ç¢ºçš„ ARIA å±¬æ€§

### 13.2 å¯¦ä½œæª¢æŸ¥æ¸…å–®

**HTML çµæ§‹ï¼š**
- [ ] ä½¿ç”¨èªæ„åŒ–æ¨™ç±¤ï¼ˆ`<nav>`, `<main>`, `<section>`ï¼‰
- [ ] æ­£ç¢ºçš„æ¨™é¡Œå±¤ç´šï¼ˆh1-h6ï¼‰
- [ ] æ‰€æœ‰è¡¨å–®è¼¸å…¥æœ‰ `<label>`
- [ ] æŒ‰éˆ•ä½¿ç”¨ `<button>` è€Œé `<div>`

**ARIA å±¬æ€§ï¼š**
- [ ] äº’å‹•å…ƒç´ æœ‰ `role` å±¬æ€§
- [ ] å‹•æ…‹å…§å®¹ä½¿ç”¨ `aria-live`
- [ ] å±•é–‹/æ”¶åˆä½¿ç”¨ `aria-expanded`
- [ ] éš±è—å…§å®¹ä½¿ç”¨ `aria-hidden`

**éµç›¤å°èˆªï¼š**
- [ ] Tab é †åºé‚è¼¯æ¸…æ™°
- [ ] ç„¦é»æŒ‡ç¤ºå™¨æ˜é¡¯å¯è¦‹
- [ ] Escape é—œé–‰å½ˆçª—
- [ ] æ–¹å‘éµå°èˆªåˆ—è¡¨

**é¡è‰²å’Œå°æ¯”ï¼š**
- [ ] æ–‡å­—å°æ¯”åº¦ â‰¥ 4.5:1
- [ ] ä¸åƒ…ä¾è³´é¡è‰²å‚³é”è³‡è¨Š
- [ ] ç„¦é»æŒ‡ç¤ºå™¨å°æ¯”åº¦ â‰¥ 3:1

**æ¸¬è©¦å·¥å…·ï¼š**
- [ ] axe DevTools æª¢æŸ¥
- [ ] NVDA/JAWS è¢å¹•é–±è®€å™¨æ¸¬è©¦
- [ ] éµç›¤å°èˆªæ¸¬è©¦
- [ ] Lighthouse ç„¡éšœç¤™è©•åˆ† â‰¥ 95

---

## 14. åœ‹éš›åŒ– (Internationalization)

### 14.1 æ”¯æ´èªè¨€

**Phase 1ï¼š**
- ç¹é«”ä¸­æ–‡ï¼ˆzh-TWï¼‰- é è¨­
- è‹±æ–‡ï¼ˆen-USï¼‰

**Futureï¼š**
- ç°¡é«”ä¸­æ–‡ï¼ˆzh-CNï¼‰
- æ—¥æ–‡ï¼ˆja-JPï¼‰

### 14.2 å¯¦ä½œæ–¹æ¡ˆ

**å·¥å…·ï¼šnext-intl**

**é…ç½®ï¼š**

```typescript
// app/[locale]/layout.tsx
import { NextIntlClientProvider } from 'next-intl';
import { getMessages } from 'next-intl/server';

export default async function LocaleLayout({
  children,
  params: { locale }
}: {
  children: React.ReactNode;
  params: { locale: string };
}) {
  const messages = await getMessages();

  return (
    <NextIntlClientProvider locale={locale} messages={messages}>
      {children}
    </NextIntlClientProvider>
  );
}
```

**ç¿»è­¯æ–‡ä»¶ï¼š**

```json
// messages/zh-TW.json
{
  "common": {
    "search": "æœå°‹",
    "loading": "è¼‰å…¥ä¸­...",
    "error": "ç™¼ç”ŸéŒ¯èª¤",
    "copy": "è¤‡è£½",
    "copied": "å·²è¤‡è£½"
  },
  "search": {
    "placeholder": "æœå°‹æ¨™ç±¤æˆ–æè¿°å ´æ™¯...",
    "no_results": "æœªæ‰¾åˆ°ç›¸é—œæ¨™ç±¤",
    "recent": "æœ€è¿‘æœå°‹"
  },
  "workspace": {
    "title": "æˆ‘çš„ Prompt",
    "empty": "å°šæœªæ·»åŠ æ¨™ç±¤",
    "clear": "æ¸…ç©º",
    "quality_score": "å“è³ªè©•åˆ†"
  }
}
```

```json
// messages/en-US.json
{
  "common": {
    "search": "Search",
    "loading": "Loading...",
    "error": "An error occurred",
    "copy": "Copy",
    "copied": "Copied"
  },
  "search": {
    "placeholder": "Search tags or describe a scene...",
    "no_results": "No tags found",
    "recent": "Recent searches"
  },
  "workspace": {
    "title": "My Prompt",
    "empty": "No tags added yet",
    "clear": "Clear",
    "quality_score": "Quality Score"
  }
}
```

---

## 15. é©—æ”¶æ¨™æº– (Acceptance Criteria)

### 15.1 å¿…è¦é©—æ”¶é …ç›®

**åŠŸèƒ½å®Œæ•´æ€§ï¼š**
- [ ] æ‰€æœ‰ 15 å€‹æ ¸å¿ƒåŠŸèƒ½å·²å¯¦ä½œ
- [ ] æ‰€æœ‰ 8 å€‹ API ç«¯é»å·²æ•´åˆ
- [ ] 5 å€‹ä¸»è¦é é¢å·²å®Œæˆ
- [ ] æ‰€æœ‰çµ„ä»¶å·²æ¸¬è©¦

**ä½¿ç”¨è€…é«”é©—ï¼š**
- [ ] Lighthouse Performance â‰¥ 90
- [ ] Lighthouse Accessibility â‰¥ 95
- [ ] Lighthouse SEO â‰¥ 90
- [ ] Core Web Vitals å…¨ç¶ 
- [ ] éŸ¿æ‡‰å¼è¨­è¨ˆå®Œç¾é©é…ï¼ˆæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿï¼‰

**æŠ€è¡“å“è³ªï¼š**
- [ ] TypeScript ç„¡éŒ¯èª¤ï¼ˆåš´æ ¼æ¨¡å¼ï¼‰
- [ ] ESLint ç„¡è­¦å‘Š
- [ ] æ¸¬è©¦è¦†è“‹ç‡ â‰¥ 80%
- [ ] Bundle å¤§å° < 300 KB (gzipped)
- [ ] ç„¡å®‰å…¨æ¼æ´ï¼ˆnpm auditï¼‰

**æ–‡æª”å®Œæ•´æ€§ï¼š**
- [ ] README å®Œæ•´ï¼ˆå®‰è£ã€ä½¿ç”¨ã€éƒ¨ç½²ï¼‰
- [ ] çµ„ä»¶æ–‡æª”ï¼ˆStorybook æˆ–é¡ä¼¼ï¼‰
- [ ] API æ•´åˆæ–‡æª”
- [ ] éƒ¨ç½²æŒ‡å—

**éƒ¨ç½²å°±ç·’ï¼š**
- [ ] æˆåŠŸéƒ¨ç½²åˆ° Vercel
- [ ] ç’°å¢ƒè®Šæ•¸é…ç½®æ­£ç¢º
- [ ] CI/CD ç®¡ç·šé‹ä½œ
- [ ] éŒ¯èª¤ç›£æ§é…ç½®ï¼ˆSentryï¼‰
- [ ] åˆ†æè¿½è¹¤é…ç½®

### 15.2 é¸æ“‡æ€§é©—æ”¶é …ç›®

- [ ] PWA å¯å®‰è£å’Œé›¢ç·šä½¿ç”¨
- [ ] éµç›¤å¿«æ·éµå®Œæ•´
- [ ] æ”¶è—åŠŸèƒ½å¯ç”¨
- [ ] åŒ¯å‡º/åŒ¯å…¥åŠŸèƒ½å¯ç”¨
- [ ] å¤šèªè¨€å®Œæ•´ç¿»è­¯
- [ ] Storybook æˆ–çµ„ä»¶æ–‡æª”
- [ ] E2E æ¸¬è©¦è¦†è“‹é—œéµæµç¨‹

### 15.3 ä½¿ç”¨è€…é©—æ”¶æ¸¬è©¦

**æ¸¬è©¦å ´æ™¯ï¼š**

1. **æ–°æ‰‹ä½¿ç”¨è€…é¦–æ¬¡è¨ªå•**
   - èƒ½åœ¨ 5 åˆ†é˜å…§å®Œæˆç¬¬ä¸€æ¬¡æœå°‹å’Œè¤‡è£½
   - ä»‹é¢ç›´è§€ï¼Œç„¡éœ€èªªæ˜æ–‡æª”

2. **ç¶“é©—ä½¿ç”¨è€…æ—¥å¸¸ä½¿ç”¨**
   - æœå°‹æµç¨‹é †æš¢ï¼Œç„¡å¡é “
   - æ¨è–¦çµæœæº–ç¢ºï¼Œæœ‰ç”¨

3. **ç§»å‹•ç«¯ä½¿ç”¨è€…**
   - æ‰‹æ©Ÿä¸Šæ“ä½œæµæš¢
   - è§¸æ§é«”é©—è‰¯å¥½

4. **ç„¡éšœç¤™ä½¿ç”¨è€…**
   - è¢å¹•é–±è®€å™¨å¯ç”¨
   - éµç›¤å°èˆªå®Œæ•´

---

## 16. é¢¨éšªå‡è¨­èˆ‡ä¾è³´ (Assumptions and Dependencies)

### 16.1 å‡è¨­ (Assumptions)

- API æœå‹™ç©©å®šå¯ç”¨ï¼ˆ99.9% uptimeï¼‰
- API å›æ‡‰æ™‚é–“ < 2 ç§’
- ä½¿ç”¨è€…ç€è¦½å™¨æ”¯æ´ç¾ä»£ Web æ¨™æº–ï¼ˆES2020+ï¼‰
- ä½¿ç”¨è€…ç¶²è·¯é€£ç·šç©©å®šï¼ˆ3G ä»¥ä¸Šï¼‰
- Vercel éƒ¨ç½²å¹³å°æŒçºŒå¯ç”¨

### 16.2 ä¾è³´ (Dependencies)

**å‰ç½®ä¾è³´ï¼š**
- Prompt-Scribe API å·²éƒ¨ç½²ä¸¦å¯ç”¨
- API ç«¯é»ç©©å®šï¼Œä¸é »ç¹è®Šå‹•
- API æ–‡æª”å®Œæ•´ä¸”æœ€æ–°

**æŠ€è¡“ä¾è³´ï¼š**
- Node.js 18+
- npm æˆ– pnpm
- ç¾ä»£ç€è¦½å™¨ï¼ˆChrome 90+, Firefox 88+, Safari 14+, Edge 90+ï¼‰

**ç¬¬ä¸‰æ–¹æœå‹™ï¼š**
- Vercelï¼ˆéƒ¨ç½²ï¼‰
- Sentryï¼ˆéŒ¯èª¤ç›£æ§ï¼Œå¯é¸ï¼‰
- Plausible æˆ– Google Analyticsï¼ˆåˆ†æï¼Œå¯é¸ï¼‰

---

## 17. æœªä¾†æ“´å±• (Future Enhancements)

### 17.1 V1.1ï¼ˆçŸ­æœŸï¼‰

- ä½¿ç”¨è€…å¸³è™Ÿç³»çµ±ï¼ˆç™»å…¥ã€è¨»å†Šï¼‰
- é›²ç«¯åŒæ­¥ï¼ˆæ”¶è—ã€æ­·å²ï¼‰
- æ›´å¤šèªè¨€æ”¯æ´ï¼ˆç°¡ä¸­ã€æ—¥æ–‡ï¼‰
- é«˜ç´šç¯©é¸åŠŸèƒ½
- æ¨™ç±¤æ¯”è¼ƒåŠŸèƒ½

### 17.2 V2.0ï¼ˆä¸­æœŸï¼‰

- ç¤¾ç¾¤åŠŸèƒ½ï¼ˆåˆ†äº« Promptã€è©•è«–ï¼‰
- Prompt æ¨¡æ¿åº«
- åœ–åƒé è¦½ï¼ˆæ•´åˆåœ–åƒç”Ÿæˆ APIï¼‰
- å€‹äººåŒ–æ¨è–¦ï¼ˆæ©Ÿå™¨å­¸ç¿’ï¼‰
- Chrome æ“´å……å¥—ä»¶

### 17.3 V3.0ï¼ˆé•·æœŸï¼‰

- å³æ™‚å”ä½œï¼ˆå¤šäººç·¨è¼¯ï¼‰
- Prompt ç‰ˆæœ¬æ§åˆ¶
- AI åŠ©æ‰‹ï¼ˆå°è©±å¼å»ºç«‹ Promptï¼‰
- èˆ‡ä¸»æµ AI å·¥å…·æ•´åˆï¼ˆSD WebUIã€ComfyUIï¼‰
- ä»˜è²»é€²éšåŠŸèƒ½

---

## 18. è®Šæ›´è¨˜éŒ„ (Change Log)

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´å…§å®¹ | ä½œè€… |
|------|------|----------|------|
| 1.0.0 | 2025-10-17 | åˆå§‹ç‰ˆæœ¬ï¼Œå®Œæ•´å‰ç«¯è¦æ ¼ | AI Assistant |

---

## 19. åƒè€ƒè³‡æ–™ (References)

### 19.1 å…§éƒ¨æ–‡æª”

- [Prompt-Scribe API è¦æ ¼](../001-sqlite-ags-db/spec.md)
- [API ç«¯é»æ–‡æª”](../001-sqlite-ags-db/contracts/api_endpoints_llm_optimized.yaml)
- [å°ˆæ¡ˆ README](../../README.md)
- [éƒ¨ç½²æŒ‡å—](../../DEPLOYMENT_GUIDE.md)

### 19.2 æŠ€è¡“æ–‡æª”

- [Next.js 14 æ–‡æª”](https://nextjs.org/docs)
- [React æ–‡æª”](https://react.dev/)
- [Tailwind CSS æ–‡æª”](https://tailwindcss.com/docs)
- [shadcn/ui æ–‡æª”](https://ui.shadcn.com/)
- [TanStack Query æ–‡æª”](https://tanstack.com/query/latest)
- [Zustand æ–‡æª”](https://docs.pmnd.rs/zustand/getting-started/introduction)

### 19.3 è¨­è¨ˆè³‡æº

- [Material Design æŒ‡å—](https://m3.material.io/)
- [Apple Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/)
- [WCAG 2.1 æ¨™æº–](https://www.w3.org/WAI/WCAG21/quickref/)
- [Web Vitals](https://web.dev/vitals/)

### 19.4 å·¥å…·å’Œæœå‹™

- [Vercel æ–‡æª”](https://vercel.com/docs)
- [Sentry æ–‡æª”](https://docs.sentry.io/)
- [Plausible æ–‡æª”](https://plausible.io/docs)
- [Playwright æ–‡æª”](https://playwright.dev/)

---

**è¦æ ¼çµæŸ (End of Specification)**

---

## é™„éŒ„ Aï¼šæŠ€è¡“æ±ºç­–è¨˜éŒ„ (ADR)

### ADR-001: é¸æ“‡ Next.js 14 App Router

**æ—¥æœŸï¼š** 2025-10-17  
**ç‹€æ…‹ï¼š** æ¥å—

**èƒŒæ™¯ï¼š**
éœ€è¦é¸æ“‡å‰ç«¯æ¡†æ¶ä¾†å»ºç«‹ Web æ‡‰ç”¨ã€‚

**æ±ºç­–ï¼š**
ä½¿ç”¨ Next.js 14 (App Router) ä½œç‚ºä¸»æ¡†æ¶ã€‚

**ç†ç”±ï¼š**
1. èˆ‡ API åŒå¹³å°ï¼ˆVercelï¼‰ï¼Œéƒ¨ç½²æœ€ä½³åŒ–
2. å…§å»º SSR/SSGï¼ŒSEO å‹å¥½
3. React Server Componentsï¼Œæ•ˆèƒ½å„ªè¶Š
4. è±å¯Œçš„ç”Ÿæ…‹ç³»çµ±
5. TypeScript åŸç”Ÿæ”¯æ´

**å¾Œæœï¼š**
- âœ… å„ªç§€çš„é–‹ç™¼é«”é©—
- âœ… è‡ªå‹•å„ªåŒ–å’Œæœ€ä½³å¯¦è¸
- âš ï¸ å­¸ç¿’æ›²ç·šï¼ˆApp Router è¼ƒæ–°ï¼‰

---

### ADR-002: é¸æ“‡ shadcn/ui + Tailwind CSS

**æ—¥æœŸï¼š** 2025-10-17  
**ç‹€æ…‹ï¼š** æ¥å—

**èƒŒæ™¯ï¼š**
éœ€è¦é¸æ“‡ UI æ¡†æ¶ä¾†å¿«é€Ÿå»ºç«‹ä»‹é¢ã€‚

**æ±ºç­–ï¼š**
ä½¿ç”¨ shadcn/ui + Tailwind CSSã€‚

**ç†ç”±ï¼š**
1. å®Œå…¨å¯è‡ªè¨‚ï¼Œç„¡ä¾è³´é–å®š
2. ç¾ä»£è¨­è¨ˆé¢¨æ ¼
3. å„ªç§€çš„ç„¡éšœç¤™æ”¯æ´
4. TypeScript æ”¯æ´
5. è¤‡è£½å³ç”¨ï¼Œéˆæ´»æ•´åˆ

**å¾Œæœï¼š**
- âœ… å®Œå…¨æ§åˆ¶ UI çµ„ä»¶
- âœ… è¼•é‡ç´šï¼ˆç„¡é¡å¤–ä¾è³´ï¼‰
- âš ï¸ éœ€æ‰‹å‹•å®‰è£çµ„ä»¶

---

### ADR-003: é¸æ“‡ Zustand + React Query

**æ—¥æœŸï¼š** 2025-10-17  
**ç‹€æ…‹ï¼š** æ¥å—

**èƒŒæ™¯ï¼š**
éœ€è¦ç‹€æ…‹ç®¡ç†æ–¹æ¡ˆã€‚

**æ±ºç­–ï¼š**
ä½¿ç”¨ Zustand ç®¡ç†æœ¬åœ°ç‹€æ…‹ï¼ŒReact Query ç®¡ç†ä¼ºæœå™¨ç‹€æ…‹ã€‚

**ç†ç”±ï¼š**
1. Zustand è¼•é‡ä¸”ç°¡å–®
2. React Query å°ˆæ¥­è™•ç†ä¼ºæœå™¨ç‹€æ…‹
3. æ¸›å°‘æ¨£æ¿ä»£ç¢¼
4. å„ªç§€çš„ TypeScript æ”¯æ´
5. è‰¯å¥½çš„é–‹ç™¼å·¥å…·

**å¾Œæœï¼š**
- âœ… ç°¡å–®æ˜“ç”¨
- âœ… å°ˆæ¥­çš„å¿«å–ç®¡ç†
- âœ… æ¸›å°‘å†—é¤˜ä»£ç¢¼

---

## é™„éŒ„ Bï¼šçµ„ä»¶æ¸…å–®

### æ ¸å¿ƒçµ„ä»¶ï¼ˆå¿…éœ€ï¼‰

1. **TagSearchInput** - æœå°‹è¼¸å…¥æ¡†
2. **TagCard** - æ¨™ç±¤å¡ç‰‡
3. **Workspace** - å·¥ä½œå€
4. **TagList** - æ¨™ç±¤åˆ—è¡¨
5. **PromptPreview** - Prompt é è¦½
6. **ValidationPanel** - é©—è­‰é¢æ¿
7. **RecommendationPanel** - æ¨è–¦é¢æ¿
8. **CategoryTree** - åˆ†é¡æ¨¹
9. **TagDetailModal** - æ¨™ç±¤è©³æƒ…å½ˆçª—
10. **Header** - é é¦–
11. **Footer** - é å°¾
12. **ThemeToggle** - ä¸»é¡Œåˆ‡æ›
13. **LanguageSelector** - èªè¨€é¸æ“‡å™¨
14. **LoadingSpinner** - è¼‰å…¥å‹•ç•«
15. **ErrorBoundary** - éŒ¯èª¤é‚Šç•Œ

### UI çµ„ä»¶ï¼ˆshadcn/uiï¼‰

1. **Button**
2. **Input**
3. **Card**
4. **Badge**
5. **Dialog**
6. **Toast**
7. **Skeleton**
8. **Tooltip**
9. **Select**
10. **Tabs**
11. **Dropdown Menu**
12. **Scroll Area**

---

## é™„éŒ„ Cï¼šAPI æ•´åˆæª¢æŸ¥æ¸…å–®

- [ ] `/api/llm/recommend-tags` - æ¨™ç±¤æ¨è–¦
- [ ] `/api/llm/validate-prompt` - Prompt é©—è­‰
- [ ] `/api/llm/suggest-combinations` - çµ„åˆå»ºè­°
- [ ] `/api/v1/tags` - æ¨™ç±¤æŸ¥è©¢
- [ ] `/api/v1/search` - é—œéµå­—æœå°‹
- [ ] `/api/v1/categories` - åˆ†é¡çµ±è¨ˆ
- [ ] `/health` - å¥åº·æª¢æŸ¥
- [ ] `/cache/stats` - å¿«å–çµ±è¨ˆ

---

## é™„éŒ„ Dï¼šæ•ˆèƒ½å„ªåŒ–æª¢æŸ¥æ¸…å–®

**è³‡æºå„ªåŒ–ï¼š**
- [ ] åœ–ç‰‡ä½¿ç”¨ Next.js Image çµ„ä»¶
- [ ] å­—å‹ä½¿ç”¨ Next.js Font å„ªåŒ–
- [ ] CSS æœ€å°åŒ–å’Œæå–é—œéµ CSS
- [ ] JavaScript åˆ†å‰²å’Œæ‡¶åŠ è¼‰

**æ¸²æŸ“å„ªåŒ–ï¼š**
- [ ] ä½¿ç”¨ React.memo é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
- [ ] è™›æ“¬åŒ–é•·åˆ—è¡¨ï¼ˆreact-windowï¼‰
- [ ] é˜²æŠ–å’Œç¯€æµè¼¸å…¥äº‹ä»¶
- [ ] Suspense å’Œ Loading ç‹€æ…‹

**ç¶²è·¯å„ªåŒ–ï¼š**
- [ ] API è«‹æ±‚å¿«å–ï¼ˆReact Queryï¼‰
- [ ] è«‹æ±‚å»é‡
- [ ] é è¼‰å…¥é—œéµè³‡æº
- [ ] CDN å’Œé‚Šç·£å¿«å–

**Bundle å„ªåŒ–ï¼š**
- [ ] ä»£ç¢¼åˆ†å‰²ï¼ˆå‹•æ…‹å°å…¥ï¼‰
- [ ] æ¨¹æ–å„ªåŒ–ï¼ˆTree Shakingï¼‰
- [ ] ç§»é™¤æœªä½¿ç”¨çš„ä¾è³´
- [ ] å£“ç¸®å’Œæœ€å°åŒ–

---

**å®Œæ•´è¦æ ¼æ–‡æª”çµæŸ**

